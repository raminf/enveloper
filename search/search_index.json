{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"enveloper","text":"<p>Manage environment secrets via your system keychain or cloud secret stores. Don't leave exposed <code>.env</code> files laying about your filesystem.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install enveloper            # CLI only\npip install enveloper[sdk]       # CLI + SDK (load_dotenv / dotenv_values)\npip install enveloper[all]       # CLI + SDK + all cloud backends\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Import an existing .env file into the keychain\nenveloper import sample.env --domain prod\n\n# List what's stored\nenveloper list\n\n# Export for a build\neval \"$(enveloper --domain prod export --format unix)\"\n\n# Unexport to remove the set of env variables after a build\neval \"$(enveloper --domain prod unexport --format unix)\"\n\n# Push to AWS SSM\nenveloper --service aws --domain prod push\n\n# Pull from AWS SSM\nenveloper --service aws --domain prod pull\n</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>Backward compatible with <code>.env</code> files</li> <li>Store values in local keychains (Mac, Linux, Windows), or cloud service secret stores (see below)</li> <li>Versioning</li> <li>Use in CI/CD, including Github Actions.</li> <li>Support for hierarchical settings via domain and project sets.</li> </ul>"},{"location":"#supported-backends","title":"Supported Backends","text":"Backend Description Local Keychain macOS Keychain, Linux Secret Service, Windows Credential Locker File Plain <code>.env</code> files AWS SSM AWS Systems Manager Parameter Store GitHub GitHub Actions secrets Vault HashiCorp Vault KV v2 GCP Google Cloud Secret Manager Azure Azure Key Vault Alibaba Alibaba Cloud KMS Secrets Manager"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Step-by-Step Tutorial - From sample.env to keychain, builds, and cloud</li> <li>CLI Reference - All commands and options</li> <li>Technical Details - Architecture and internals</li> <li>Local Keychain - OS keychain setup and usage</li> <li>Cloud Storage - Cloud service configuration</li> <li>Versioning - Semantic versioning for secrets</li> <li>JSON/YAML - Import/export in JSON and YAML formats</li> <li>SDK - Python SDK for <code>load_dotenv</code> / <code>dotenv_values</code></li> <li>Project Config - <code>.enveloper.toml</code> configuration</li> <li>Config/Env Overrides - Priority order for settings</li> <li>Service Backend - Backend selection and configuration</li> <li>CI/CD Integration - GitHub Actions, CodeBuild, GitLab CI</li> <li>Makefile Integration - Build system integration</li> <li>Other Projects - Comparison with similar tools</li> <li>Development - Contributing and development</li> <li>Adding Stores - Creating custom store plugins</li> <li>Publishing - Publishing to PyPI</li> <li>Security - Secure data storage and access control</li> <li>Disclosures - Disclosures and confessions</li> <li>License - AGPL-3.0-or-later</li> </ul>"},{"location":"#license","title":"License","text":"<p>GNU AGPL v3.0 or later</p>"},{"location":"adding-stores/","title":"Adding Stores","text":""},{"location":"adding-stores/#overview","title":"Overview","text":"<p><code>enveloper</code> uses a plugin system based on Python entry points to discover and load store implementations. This document explains how to create new store plugins.</p>"},{"location":"adding-stores/#key-composition","title":"Key Composition","text":"<p>Every secret is stored under a composite key built from five segments:</p> <pre><code>{prefix}{sep}{domain}{sep}{project}{sep}{version}{sep}{name}\n</code></pre> Segment Default Source <code>prefix</code> <code>envr</code> <code>SecretStore.prefix</code> class attr <code>sep</code> <code>/</code> <code>SecretStore.key_separator</code> <code>domain</code> <code>_default_</code> CLI <code>--domain</code> / env var <code>project</code> <code>_default_</code> CLI <code>--project</code> / config <code>version</code> <code>1.0.0</code> CLI <code>--version</code> <code>name</code> (user-supplied) The actual secret name <p>Example: With AWS store (separator <code>/</code>), the key for <code>API_KEY</code> might be: <pre><code>/envr/payments/myapp/1.0.0/API_KEY\n</code></pre></p>"},{"location":"adding-stores/#the-secretstore-base-class","title":"The <code>SecretStore</code> Base Class","text":"<p>All store plugins inherit from <code>SecretStore</code> (defined in <code>src/enveloper/store.py</code>).</p>"},{"location":"adding-stores/#class-attributes-defaults-defined-on-the-base-class","title":"Class Attributes (defaults defined on the base class)","text":"<p>These only need to be overridden if the store cannot use the base-class defaults:</p> Attribute Base Default Purpose <code>default_namespace</code> <code>\"_default_\"</code> Used when project or domain are not supplied <code>prefix</code> <code>\"envr\"</code> Namespace prefix for all keys <code>key_separator</code> <code>\"/\"</code> Separates path segments (<code>/</code> for AWS, <code>--</code> for GCP) <code>version_separator</code> <code>\".\"</code> Separates version digits (<code>\"_\"</code> when dots are banned)"},{"location":"adding-stores/#abstract-methods-must-implement","title":"Abstract Methods (must implement)","text":"<pre><code>def get(self, key: str) -&gt; str | None: ...\ndef set(self, key: str, value: str) -&gt; None: ...\ndef delete(self, key: str) -&gt; None: ...\ndef list_keys(self) -&gt; list[str]: ...\n</code></pre>"},{"location":"adding-stores/#provided-methods-inherited-can-be-overridden","title":"Provided Methods (inherited, can be overridden)","text":"Method What it does <code>clear()</code> Deletes every key from <code>list_keys()</code>. Override for bulk-delete. <code>build_key(name, project, domain, version)</code> Builds the composite key string using the class attributes above. <code>parse_key(key)</code> Splits a composite key back into <code>{prefix, domain, project, version, name}</code>. <code>key_to_export_name(key)</code> Extracts just the <code>name</code> from a composite key (for <code>.env</code> export). <code>sanitize_key_segment(value)</code> Replaces the <code>key_separator</code> character in a segment with <code>_</code>."},{"location":"adding-stores/#service-listing-for-enveloper-service","title":"Service listing (for <code>enveloper service</code>)","text":"<p>Every store must define these class attributes so it appears correctly in <code>enveloper service</code>:</p> Attribute Purpose <code>service_name</code> Short CLI name (e.g., <code>\"aws\"</code>, <code>\"file\"</code>). Shown in the Service column. <code>service_display_name</code> Human-readable description (e.g., \"AWS Systems Manager Parameter Store\"). <code>service_doc_url</code> Documentation URL (optional but recommended). Rendered as \"Doc Link\". <p>Base defaults are empty strings; subclasses must set them.</p> <p>Stores that need multiple rows in the service table (e.g., local keychain per OS) should override:</p> <pre><code>@classmethod\ndef get_service_rows(cls) -&gt; list[tuple[str, str, str]]:\n    \"\"\"Return one or more (short_name, display_name, doc_url).\"\"\"\n    return [\n        (\"local (MacOS)\", \"macOS Keychain\", \"https://...\"),\n        (\"local (Windows)\", \"Windows Credential Locker\", \"https://...\"),\n        # ...\n    ]\n</code></pre>"},{"location":"adding-stores/#configuration-hook","title":"Configuration Hook","text":"<pre><code>@classmethod\ndef build_default_prefix(cls, domain: str, project: str) -&gt; str:\n    \"\"\"Return the default prefix/path for this store.\n    Called when no explicit --prefix is provided.\"\"\"\n</code></pre> <pre><code>@classmethod\ndef from_config(cls, domain, project, config, prefix=None, env_name=None, **kwargs):\n    \"\"\"Create an instance from CLI/config values.\n    Base implementation calls build_default_prefix when prefix is None,\n    then passes prefix, domain, project, and **kwargs to __init__.\"\"\"\n</code></pre>"},{"location":"adding-stores/#creating-a-new-store-plugin","title":"Creating a New Store Plugin","text":""},{"location":"adding-stores/#step-1-fork-and-clone","title":"Step 1: Fork and Clone","text":"<pre><code>git clone https://github.com/&lt;you&gt;/enveloper.git\ncd enveloper\nuv sync --extra dev --all-extras\n</code></pre>"},{"location":"adding-stores/#step-2-create-the-store-module","title":"Step 2: Create the Store Module","text":"<p>Add a new file under <code>src/enveloper/stores/</code>, for example <code>src/enveloper/stores/my_backend.py</code>:</p> <pre><code>from __future__ import annotations\n\nfrom enveloper.store import DEFAULT_NAMESPACE, DEFAULT_PREFIX, DEFAULT_VERSION, SecretStore\n\n\nclass MyBackendStore(SecretStore):\n    \"\"\"Example store -- replace with your real backend.\"\"\"\n\n    # Required for ``enveloper service`` listing\n    service_name: str = \"my_backend\"\n    service_display_name: str = \"My Backend Description\"\n    service_doc_url: str = \"https://docs.example.com/my-backend\"\n\n    # Only override if the defaults won't work for your backend:\n    # key_separator: str = \"--\"       # if \"/\" is invalid\n    # version_separator: str = \"_\"    # if \".\" is invalid in key names\n\n    @classmethod\n    def build_default_prefix(cls, domain: str, project: str) -&gt; str:\n        d = cls.sanitize_key_segment(domain)\n        p = cls.sanitize_key_segment(project)\n        return f\"{cls.prefix}{cls.key_separator}{d}{cls.key_separator}{p}\"\n\n    def __init__(\n        self,\n        prefix: str = \"\",\n        version: str = DEFAULT_VERSION,\n        domain: str = DEFAULT_NAMESPACE,\n        project: str = DEFAULT_NAMESPACE,\n        **kwargs: object,\n    ) -&gt; None:\n        self._prefix = prefix\n        self._version = version\n        self._domain = domain\n        self._project = project\n        # Set up your backend client here\n\n    def _resolve_key(self, key: str) -&gt; str:\n        \"\"\"If key is already a composite key, return as-is; otherwise build one.\"\"\"\n        if self.parse_key(key) is not None:\n            return key\n        return self.build_key(\n            name=key, project=self._project,\n            domain=self._domain, version=self._version,\n        )\n\n    def get(self, key: str) -&gt; str | None:\n        full = self._resolve_key(key)\n        # ... fetch from backend ...\n        return None\n\n    def set(self, key: str, value: str) -&gt; None:\n        full = self._resolve_key(key)\n        # ... write to backend ...\n\n    def delete(self, key: str) -&gt; None:\n        full = self._resolve_key(key)\n        # ... delete from backend ...\n\n    def list_keys(self) -&gt; list[str]:\n        # Return full composite keys so get(key) works on them\n        return []\n</code></pre>"},{"location":"adding-stores/#step-3-register-the-entry-point","title":"Step 3: Register the Entry Point","text":"<p>Add to <code>pyproject.toml</code>:</p> <pre><code>[project.entry-points.\"enveloper.stores\"]\n# ... existing stores ...\nmy_backend = \"enveloper.stores.my_backend:MyBackendStore\"\n</code></pre>"},{"location":"adding-stores/#step-4-install-and-test","title":"Step 4: Install and Test","text":"<p>With <code>service_name</code>, <code>service_display_name</code>, and <code>service_doc_url</code> set on your store class, it will appear in <code>enveloper service</code> automatically (no CLI changes needed).</p> <pre><code>uv sync\nuv run enveloper stores          # should show my_backend\nuv run enveloper service         # should list my_backend with description and doc link\nuv run enveloper --service my_backend list\n</code></pre>"},{"location":"adding-stores/#example-implementations","title":"Example Implementations","text":"<p>Refer to these files for complete examples of different store patterns:</p> Store File Notes AWS SSM <code>src/enveloper/stores/aws_ssm.py</code> Path-based keys, leading <code>/</code> prepended GitHub Secrets <code>src/enveloper/stores/github.py</code> Write-only; uses simple key names HashiCorp Vault <code>src/enveloper/stores/vault.py</code> KV v2 with mount/path, composite key stored GCP Secret Mgr <code>src/enveloper/stores/gcp_sm.py</code> <code>--</code> separator, sanitized secret IDs Azure Key Vault <code>src/enveloper/stores/azure_kv.py</code> <code>--</code> separator, sanitized secret names Alibaba KMS <code>src/enveloper/stores/aliyun_sm.py</code> <code>--</code> separator, sanitized secret names"},{"location":"adding-stores/#testing-your-store","title":"Testing Your Store","text":"<p>Create integration tests in <code>tests/integration/test_&lt;store_name&gt;.py</code>. Unit tests should use the autouse mock fixtures in <code>tests/conftest.py</code> which replace real keychain and cloud stores with in-memory fakes.</p> <pre><code>import pytest\nfrom enveloper.stores.my_backend import MyBackendStore\n\n\n@pytest.mark.integration_my_backend\ndef test_roundtrip():\n    store = MyBackendStore(prefix=\"test/\")\n    store.set(\"MY_KEY\", \"hello\")\n    assert store.get(\"MY_KEY\") == \"hello\"\n    store.delete(\"MY_KEY\")\n    assert store.get(\"MY_KEY\") is None\n</code></pre> <p>Register the marker in <code>pyproject.toml</code>:</p> <pre><code>[tool.pytest.ini_options]\nmarkers = [\n    # ... existing markers ...\n    \"integration_my_backend: integration tests for My Backend\",\n]\n</code></pre>"},{"location":"adding-stores/#troubleshooting","title":"Troubleshooting","text":"<p>Store not appearing in <code>enveloper stores</code>: - Check that the entry point group is exactly <code>\"enveloper.stores\"</code> in <code>pyproject.toml</code>. - Re-run <code>uv sync</code> after editing <code>pyproject.toml</code>.</p> <p>Import errors: - Ensure your class inherits from <code>SecretStore</code> and implements all four abstract methods.</p> <p>Key parsing issues: - <code>build_key</code> and <code>parse_key</code> rely on <code>key_separator</code>. If your backend prohibits <code>/</code> in names, override <code>key_separator</code> to something the backend allows (e.g., <code>\"--\"</code>). - Use <code>sanitize_key_segment()</code> on domain/project/name values to strip the separator character.</p>"},{"location":"cicd-integration/","title":"CI/CD Integration","text":""},{"location":"cicd-integration/#overview","title":"Overview","text":"<p><code>enveloper</code> integrates seamlessly with various CI/CD platforms, enabling secure secret management in automated workflows.</p>"},{"location":"cicd-integration/#github-actions","title":"GitHub Actions","text":""},{"location":"cicd-integration/#basic-workflow","title":"Basic Workflow","text":"<pre><code>name: Build and Deploy\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n\n      - name: Install enveloper\n        run: pip install enveloper[aws]\n\n      - name: Pull secrets from AWS SSM\n        run: |\n          enveloper pull --service aws -d prod --prefix /myapp/prod/\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n\n      - name: Export secrets for build\n        run: |\n          eval \"$(enveloper export -d prod --format unix)\"\n\n      - name: Build application\n        run: make build\n</code></pre>"},{"location":"cicd-integration/#using-github-secrets-directly","title":"Using GitHub Secrets Directly","text":"<pre><code>name: Deploy\n\non:\n  push:\n    branches: [main]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Push to GitHub Secrets\n        run: |\n          enveloper push --service github -d prod --repo ${{ github.repository }}\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Use secrets in workflow\n        run: |\n          echo \"Using GitHub secret: ${{ secrets.MY_KEY }}\"\n</code></pre>"},{"location":"cicd-integration/#self-hosted-runner-with-keychain","title":"Self-Hosted Runner with Keychain","text":"<pre><code>name: Build with Keychain\n\non:\n  push:\n    branches: [main]\n\njobs:\n  build:\n    runs-on: self-hosted\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Export secrets from keychain\n        run: |\n          enveloper export -d prod --format dotenv &gt; /tmp/.enveloper.env\n          source /tmp/.enveloper.env\n\n      - name: Build application\n        run: make build\n</code></pre>"},{"location":"cicd-integration/#aws-codebuild","title":"AWS CodeBuild","text":""},{"location":"cicd-integration/#using-ssm-parameters","title":"Using SSM Parameters","text":"<pre><code>version: 0.2\n\nphases:\n  install:\n    runtime-versions:\n      python: 3.11\n    commands:\n      - pip install enveloper[aws]\n\n  pre_build:\n    commands:\n      - |\n        # Pull secrets from SSM\n        enveloper pull --service aws -d prod --prefix /myapp/prod/\n\n      - |\n        # Generate CodeBuild environment snippet\n        enveloper generate codebuild-env -d prod --prefix /myapp/prod/\n\n  build:\n    commands:\n      - make build\n</code></pre>"},{"location":"cicd-integration/#using-environment-variables","title":"Using Environment Variables","text":"<pre><code>version: 0.2\n\nphases:\n  build:\n    commands:\n      - pip install enveloper\n      - eval \"$(enveloper export -d prod --format unix)\"\n      - make build\n    environment:\n      ENVELOPER_PROJECT: myapp\n      ENVELOPER_DOMAIN: prod\n      ENVELOPER_SERVICE: local\n</code></pre>"},{"location":"cicd-integration/#gitlab-ci","title":"GitLab CI","text":""},{"location":"cicd-integration/#basic-workflow_1","title":"Basic Workflow","text":"<pre><code>stages:\n  - build\n  - test\n  - deploy\n\nvariables:\n  ENVELOPER_PROJECT: myapp\n  ENVELOPER_DOMAIN: prod\n\nbuild:\n  stage: build\n  image: python:3.11\n  script:\n    - pip install enveloper[aws]\n    - export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID\n    - export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY\n    - enveloper pull --service aws\n    - eval \"$(enveloper export --format unix)\"\n    - make build\n  variables:\n    AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID\n    AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY\n</code></pre>"},{"location":"cicd-integration/#using-gitlab-ci-variables","title":"Using GitLab CI Variables","text":"<pre><code>deploy:\n  stage: deploy\n  image: python:3.11\n  script:\n    - pip install enveloper\n    - enveloper push --service github -d prod --repo $CI_PROJECT_PATH\n    - GITHUB_TOKEN=$CI_JOB_TOKEN\n  rules:\n    - if: $CI_COMMIT_BRANCH == \"main\"\n</code></pre>"},{"location":"cicd-integration/#azure-devops","title":"Azure DevOps","text":""},{"location":"cicd-integration/#yaml-pipeline","title":"YAML Pipeline","text":"<pre><code>trigger:\n  - main\n\npool:\n  vmImage: 'ubuntu-latest'\n\nvariables:\n  ENVELOPER_PROJECT: myapp\n  ENVELOPER_DOMAIN: prod\n\nsteps:\n  - task: UsePythonVersion@0\n    inputs:\n      versionSpec: '3.11'\n\n  - script: pip install enveloper[aws]\n    displayName: 'Install enveloper'\n\n  - script: |\n      export AWS_ACCESS_KEY_ID=$(AWS_ACCESS_KEY_ID)\n      export AWS_SECRET_ACCESS_KEY=$(AWS_SECRET_ACCESS_KEY)\n      enveloper pull --service aws\n      eval \"$(enveloper export --format unix)\"\n    displayName: 'Pull and export secrets'\n\n  - script: make build\n    displayName: 'Build application'\n</code></pre>"},{"location":"cicd-integration/#jenkins","title":"Jenkins","text":""},{"location":"cicd-integration/#pipeline-script","title":"Pipeline Script","text":"<pre><code>pipeline {\n    agent any\n    environment {\n        ENVELOPER_PROJECT = 'myapp'\n        ENVELOPER_DOMAIN = 'prod'\n        AWS_ACCESS_KEY_ID = credentials('aws-access-key')\n        AWS_SECRET_ACCESS_KEY = credentials('aws-secret-key')\n    }\n    stages {\n        stage('Install') {\n            steps {\n                sh 'pip install enveloper[aws]'\n            }\n        }\n        stage('Pull Secrets') {\n            steps {\n                sh '''\n                    enveloper pull --service aws\n                    eval \"$(enveloper export --format unix)\"\n                '''\n            }\n        }\n        stage('Build') {\n            steps {\n                sh 'make build'\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"cicd-integration/#docker-docker-compose","title":"Docker / Docker Compose","text":""},{"location":"cicd-integration/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM python:3.11-slim\n\n# Install enveloper\nRUN pip install enveloper[aws]\n\n# Set environment\nENV ENVELOPER_PROJECT=myapp\nENV ENVELOPER_DOMAIN=prod\n\n# Copy application\nCOPY . /app\nWORKDIR /app\n\n# Run with secrets\nCMD [\"sh\", \"-c\", \"eval \\\"\\$(enveloper export --format unix)\\\" &amp;&amp; python app.py\"]\n</code></pre>"},{"location":"cicd-integration/#docker-compose","title":"Docker Compose","text":"<pre><code>version: '3.8'\nservices:\n  app:\n    build: .\n    environment:\n      - DATABASE_URL=${DATABASE_URL}\n      - API_KEY=${API_KEY}\n</code></pre>"},{"location":"cicd-integration/#best-practices","title":"Best Practices","text":"<ol> <li>Use environment-specific secrets - Separate dev, staging, prod</li> <li>Rotate credentials regularly - Update secrets in CI/CD</li> <li>Use secrets management - Store CI/CD credentials securely</li> <li>Audit access - Track who accessed secrets</li> <li>Fail securely - Don't expose secrets in logs</li> </ol>"},{"location":"cicd-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cicd-integration/#permission-denied","title":"Permission Denied","text":"<pre><code># Check credentials\necho \"AWS_ACCESS_KEY_ID: ${AWS_ACCESS_KEY_ID:0:4}...\"\n\n# Verify IAM permissions\naws sts get-caller-identity\n</code></pre>"},{"location":"cicd-integration/#connection-issues","title":"Connection Issues","text":"<pre><code># Test network connectivity\nping ssm.&lt;region&gt;.amazonaws.com\n\n# Check firewall rules\ncurl -v https://ssm.&lt;region&gt;.amazonaws.com\n</code></pre>"},{"location":"cicd-integration/#secret-not-found","title":"Secret Not Found","text":"<p>```bash</p>"},{"location":"cicd-integration/#verify-secret-exists","title":"Verify secret exists","text":"<p>enveloper list</p>"},{"location":"cicd-integration/#check-projectdomain","title":"Check project/domain","text":"<p>enveloper list --project myapp --domain prod</p>"},{"location":"cli-reference/","title":"CLI Reference","text":"<p>The <code>enveloper</code> CLI (also available as <code>envr</code>) provides commands for managing secrets across local keychain and cloud stores.</p>"},{"location":"cli-reference/#global-options","title":"Global Options","text":"<p>These options can be used before any command:</p> Option Environment Variable Config File Default <code>--project</code> / <code>-p</code> <code>ENVELOPER_PROJECT</code> <code>[enveloper]</code> \u2192 <code>project</code> <code>\"default\"</code> <code>--domain</code> / <code>-d</code> <code>ENVELOPER_DOMAIN</code> <code>[enveloper.domains.&lt;name&gt;]</code> <code>\"default\"</code> <code>--service</code> / <code>-s</code> <code>ENVELOPER_SERVICE</code> <code>[enveloper]</code> \u2192 <code>service</code> <code>\"local\"</code> <code>--path</code> N/A N/A <code>.env</code> (for file service) <code>--version</code> / <code>-v</code> <code>ENVELOPER_VERSION</code> N/A <code>\"1.0.0\"</code> <code>--prefix</code> N/A N/A Auto-generated from domain/project"},{"location":"cli-reference/#commands","title":"Commands","text":""},{"location":"cli-reference/#enveloper-init","title":"<code>enveloper init</code>","text":"<p>Configure OS keychain for frictionless access.</p> <ul> <li>macOS: Disables login keychain auto-lock</li> <li>Linux: Checks that gnome-keyring or kwallet daemon is running</li> <li>Windows: No action needed (Credential Locker unlocked with session)</li> </ul>"},{"location":"cli-reference/#enveloper-import-file","title":"<code>enveloper import &lt;file&gt;</code>","text":"<p>Import secrets from a file into the current service.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend (default: local) - <code>--path PATH</code> - File path (for file service) - <code>--format FORMAT</code> - Input format: <code>env</code> (default), <code>json</code>, <code>yaml</code></p> <p>Examples: <pre><code>enveloper import .env -d prod\nenveloper import secrets.json --format json -d dev\nenveloper import .env --service file --path .env.local\n</code></pre></p>"},{"location":"cli-reference/#enveloper-export","title":"<code>enveloper export</code>","text":"<p>Export secrets from the current service.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend (default: local) - <code>--path PATH</code> - File path (for file service) - <code>--format FORMAT</code> - Output format: <code>dotenv</code> (default), <code>unix</code>, <code>win</code>, <code>json</code>, <code>yaml</code> - <code>-o, --output FILE</code> - Write to file instead of stdout</p> <p>Examples: <pre><code># Export for shell (use with eval)\neval \"$(enveloper export -d prod --format unix)\"\n\n# Export to .env file\nenveloper export -d prod -o backup.env\n\n# Export to JSON\nenveloper export -d prod --format json -o secrets.json\n\n# Windows PowerShell\nenveloper export -d prod --format win | Invoke-Expression\n</code></pre></p>"},{"location":"cli-reference/#enveloper-unexport","title":"<code>enveloper unexport</code>","text":"<p>Output unset commands to clear environment variables.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path - <code>--format FORMAT</code> - Output format: <code>unix</code>, <code>win</code></p>"},{"location":"cli-reference/#enveloper-get-key","title":"<code>enveloper get &lt;key&gt;</code>","text":"<p>Get a single secret value.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path</p>"},{"location":"cli-reference/#enveloper-set-key-value","title":"<code>enveloper set &lt;key&gt; &lt;value&gt;</code>","text":"<p>Set a single secret value.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path</p>"},{"location":"cli-reference/#enveloper-list","title":"<code>enveloper list</code>","text":"<p>List all secrets in the current project/domain.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path</p> <p>Output is a table with masked values.</p>"},{"location":"cli-reference/#enveloper-delete-key","title":"<code>enveloper delete &lt;key&gt;</code>","text":"<p>Remove a single secret.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path</p>"},{"location":"cli-reference/#enveloper-clear","title":"<code>enveloper clear</code>","text":"<p>Clear all secrets from the current service.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>-s, --service SERVICE</code> - Service backend - <code>--path PATH</code> - File path - <code>-q, --quiet</code> - Skip confirmation prompt</p> <p>Warning: This is NOT REVERSIBLE. Use <code>enveloper export -o backup.env</code> first to create a backup.</p>"},{"location":"cli-reference/#enveloper-push","title":"<code>enveloper push</code>","text":"<p>Push secrets to a cloud store.</p> <p>Options: - <code>--service STORE</code> - Cloud store (aws, github, vault, gcp, azure, aliyun) - <code>--from SOURCE</code> - Source backend (local, file; default: local) - <code>-d, --domain DOMAIN</code> - Domain name - <code>--path PATH</code> - File path - <code>--prefix PREFIX</code> - Cloud store prefix/path</p> <p>Examples: <pre><code># Push to AWS SSM\nenveloper push --service aws -d prod --prefix /myapp/prod/\n\n# Push to GitHub Actions\nenveloper push --service github -d prod --repo owner/repo\n\n# Push from file to cloud\nenveloper push --service aws --from file --path .env\n</code></pre></p>"},{"location":"cli-reference/#enveloper-pull","title":"<code>enveloper pull</code>","text":"<p>Pull secrets from a cloud store.</p> <p>Options: - <code>--service STORE</code> - Cloud store (aws, github, vault, gcp, azure, aliyun) - <code>--to TARGET</code> - Target backend (local, file; default: local) - <code>-d, --domain DOMAIN</code> - Domain name - <code>--path PATH</code> - File path - <code>--prefix PREFIX</code> - Cloud store prefix/path</p> <p>Examples: <pre><code># Pull from AWS SSM\nenveloper pull --service aws -d prod --prefix /myapp/prod/\n\n# Pull to file\nenveloper pull --service aws --to file --path .env\n</code></pre></p>"},{"location":"cli-reference/#enveloper-service","title":"<code>enveloper service</code>","text":"<p>List all available service providers with descriptions and documentation links.</p>"},{"location":"cli-reference/#enveloper-stores","title":"<code>enveloper stores</code>","text":"<p>List all available store plugins.</p>"},{"location":"cli-reference/#enveloper-generate-codebuild-env","title":"<code>enveloper generate codebuild-env</code>","text":"<p>Generate AWS CodeBuild buildspec YAML snippet.</p> <p>Options: - <code>-d, --domain DOMAIN</code> - Domain name - <code>--prefix PREFIX</code> - SSM parameter prefix</p>"},{"location":"cli-reference/#format-options","title":"Format Options","text":""},{"location":"cli-reference/#export-formats","title":"Export Formats","text":"Format Description Use Case <code>dotenv</code> <code>KEY=value</code> <code>.env</code> files, general use <code>unix</code> <code>export KEY=value</code> Bash/Zsh shells <code>win</code> <code>$env:KEY = 'value'</code> PowerShell <code>json</code> <code>{\"KEY\": \"value\"}</code> Docker, CDK, config files <code>yaml</code> <code>KEY: value</code> Docker, Kubernetes, config files"},{"location":"cli-reference/#import-formats","title":"Import Formats","text":"Format Description <code>env</code> <code>KEY=value</code> (default) <code>json</code> <code>{\"KEY\": \"value\"}</code> <code>yaml</code> <code>KEY: value</code>"},{"location":"cli-reference/#service-backends","title":"Service Backends","text":"Service Read/Write Description <code>local</code> Read/Write OS keychain (macOS, Linux, Windows) <code>file</code> Read/Write Plain <code>.env</code> file <code>aws</code> Push/Pull AWS SSM Parameter Store <code>github</code> Push only GitHub Actions secrets <code>vault</code> Push/Pull HashiCorp Vault KV v2 <code>gcp</code> Push/Pull Google Cloud Secret Manager <code>azure</code> Push/Pull Azure Key Vault <code>aliyun</code> Push/Pull Alibaba Cloud KMS Secrets Manager"},{"location":"cli-reference/#environment-variables","title":"Environment Variables","text":"Variable Purpose <code>ENVELOPER_PROJECT</code> Default project name <code>ENVELOPER_DOMAIN</code> Default domain name <code>ENVELOPER_SERVICE</code> Default service backend <code>ENVELOPER_VERSION</code> Default version <code>ENVELOPER_SSM_PREFIX</code> SSM prefix for Lambda <code>ENVELOPER_USE_SSM</code> Use SSM in Lambda (1/0)"},{"location":"cli-reference/#config-file-envelopertoml","title":"Config File (<code>.enveloper.toml</code>)","text":"<p>See Project Config File for details.</p>"},{"location":"cloud-storage/","title":"Cloud Storage Details","text":""},{"location":"cloud-storage/#overview","title":"Overview","text":"<p><code>enveloper</code> supports multiple cloud secret management services. Each service provides secure storage with team collaboration, backup, and access control features.</p>"},{"location":"cloud-storage/#supported-cloud-services","title":"Supported Cloud Services","text":"Service Store Name Install Extra Read/Write AWS Systems Manager Parameter Store <code>aws</code> <code>enveloper[aws]</code> Push/Pull GitHub Actions Secrets <code>github</code> Built-in Push only HashiCorp Vault KV v2 <code>vault</code> <code>enveloper[vault]</code> Push/Pull Google Cloud Secret Manager <code>gcp</code> <code>enveloper[gcp]</code> Push/Pull Azure Key Vault <code>azure</code> <code>enveloper[azure]</code> Push/Pull Alibaba Cloud KMS Secrets Manager <code>aliyun</code> <code>enveloper[alibaba]</code> Push/Pull"},{"location":"cloud-storage/#benefits-of-cloud-storage","title":"Benefits of Cloud Storage","text":""},{"location":"cloud-storage/#teamwork","title":"Teamwork","text":"<ul> <li>Shared access: Multiple team members can access the same secrets</li> <li>Centralized management: One source of truth for all environments</li> <li>Audit trails: Track who accessed or modified secrets</li> <li>Role-based access: Fine-grain permissions per user/team</li> </ul>"},{"location":"cloud-storage/#per-project-vs-global-settings","title":"Per-Project vs. Global Settings","text":"<ul> <li>Per-project: Store secrets under project-specific prefixes</li> <li>Global: Use shared prefixes for common secrets across projects</li> <li>Environment separation: Use domain names (dev, staging, prod)</li> </ul>"},{"location":"cloud-storage/#persistent-backup","title":"Persistent Backup","text":"<ul> <li>Automatic backups: Cloud providers handle data durability</li> <li>Version history: Maintain multiple versions of secrets</li> <li>Disaster recovery: Cross-region replication available</li> <li>No data loss: Enterprise-grade durability guarantees</li> </ul>"},{"location":"cloud-storage/#fine-grain-access-control","title":"Fine-Grain Access Control","text":"<ul> <li>IAM policies: Control who can read/write secrets</li> <li>Resource tags: Organize and filter by tags</li> <li>Audit logging: Track all access and modifications</li> <li>Secret rotation: Built-in rotation policies</li> </ul>"},{"location":"cloud-storage/#service-specific-details","title":"Service-Specific Details","text":""},{"location":"cloud-storage/#aws-systems-manager-parameter-store","title":"AWS Systems Manager Parameter Store","text":"<p>Benefits: - Integrated with AWS IAM for access control - Tiered pricing (Free Tier available) - Parameter hierarchies for organization - Encryption with AWS KMS</p> <p>Configuration: <pre><code>[enveloper.aws]\nprofile = \"default\"  # or set AWS_PROFILE\nregion = \"us-west-2\"  # or set AWS_DEFAULT_REGION\n</code></pre></p> <p>Usage: <pre><code># Push to SSM\nenveloper push --service aws -d prod --prefix /myapp/prod/\n\n# Pull from SSM\nenveloper pull --service aws -d prod --prefix /myapp/prod/\n\n# In Lambda, use SSM prefix\nexport ENVELOPER_SSM_PREFIX=/myapp/prod/\n</code></pre></p>"},{"location":"cloud-storage/#github-actions-secrets","title":"GitHub Actions Secrets","text":"<p>Benefits: - Native integration with GitHub Actions - No additional cost - Repository-level or organization-level secrets - Environment-specific secrets</p> <p>Usage: <pre><code># Push to GitHub Actions\nenveloper push --service github -d prod --repo owner/repo\n\n# In workflow, use secrets directly\n- name: Use secret\n  run: echo \"${{ secrets.MY_KEY }}\"\n</code></pre></p> <p>Limitations: - Write-only (cannot pull from GitHub) - Repository-scoped (not domain/project aware)</p>"},{"location":"cloud-storage/#hashicorp-vault-kv-v2","title":"HashiCorp Vault KV v2","text":"<p>Benefits: - Advanced secret management features - Dynamic secrets generation - Lease management and revocation - Multiple secret backends</p> <p>Configuration: <pre><code>[enveloper.vault]\nurl = \"http://127.0.0.1:8200\"  # or set VAULT_ADDR\nmount = \"secret\"  # KV v2 mount point (default \"secret\")\n</code></pre></p> <p>Authentication: - <code>VAULT_TOKEN</code> - Token authentication - <code>VAULT_ADDR</code> - Vault server address</p> <p>Usage: <pre><code># Push to Vault\nenveloper push --service vault -d prod --prefix myapp/prod\n\n# Pull from Vault\nenveloper pull --service vault -d prod --prefix myapp/prod\n</code></pre></p>"},{"location":"cloud-storage/#google-cloud-secret-manager","title":"Google Cloud Secret Manager","text":"<p>Benefits: - Integrated with Google Cloud IAM - Automatic encryption with Google-managed keys - Secret versioning and rotation - Audit logging with Cloud Logging</p> <p>Configuration: <pre><code>[enveloper.gcp]\nproject = \"my-gcp-project\"  # or set GOOGLE_CLOUD_PROJECT\n</code></pre></p> <p>Authentication: - Application Default Credentials - Service account JSON - Workload Identity (GKE)</p> <p>Usage: <pre><code># Push to Secret Manager\nenveloper push --service gcp -d prod --prefix myapp-prod\n\n# Pull from Secret Manager\nenveloper pull --service gcp -d prod --prefix myapp-prod\n</code></pre></p>"},{"location":"cloud-storage/#azure-key-vault","title":"Azure Key Vault","text":"<p>Benefits: - Integrated with Azure Active Directory - Hardware Security Module (HSM) support - Soft delete and purge protection - Key rotation policies</p> <p>Configuration: <pre><code>[enveloper.azure]\nvault_url = \"https://my-vault.vault.azure.net/\"  # or set AZURE_VAULT_URL\n</code></pre></p> <p>Authentication: - DefaultAzureCredential - Service principal - Managed identity</p> <p>Usage: <pre><code># Push to Key Vault\nenveloper push --service azure -d prod --prefix myapp-prod\n\n# Pull from Key Vault\nenveloper pull --service azure -d prod --prefix myapp-prod\n</code></pre></p>"},{"location":"cloud-storage/#alibaba-cloud-kms-secrets-manager","title":"Alibaba Cloud KMS Secrets Manager","text":"<p>Benefits: - Integrated with Alibaba Cloud RAM - Hardware Security Module support - Audit logging with ActionTrail - Secret rotation policies</p> <p>Configuration: <pre><code>[enveloper.aliyun]\nregion_id = \"cn-hangzhou\"  # or set ALIBABA_CLOUD_REGION_ID\naccess_key_id = \"...\"  # or set ALIBABA_CLOUD_ACCESS_KEY_ID\naccess_key_secret = \"...\"  # or set ALIBABA_CLOUD_ACCESS_KEY_SECRET\n</code></pre></p> <p>Usage: <pre><code># Push to KMS Secrets Manager\nenveloper push --service aliyun -d prod --prefix myapp-prod\n\n# Pull from KMS Secrets Manager\nenveloper pull --service aliyun -d prod --prefix myapp-prod\n</code></pre></p>"},{"location":"cloud-storage/#pushpull-workflows","title":"Push/Pull Workflows","text":""},{"location":"cloud-storage/#from-local-to-cloud","title":"From Local to Cloud","text":"<pre><code># Push from local keychain to cloud\nenveloper push --service aws -d prod --prefix /myapp/prod/\n\n# Push from file to cloud\nenveloper push --service aws --from file --path .env\n</code></pre>"},{"location":"cloud-storage/#from-cloud-to-local","title":"From Cloud to Local","text":"<pre><code># Pull from cloud to local keychain\nenveloper pull --service aws -d prod --prefix /myapp/prod/\n\n# Pull from cloud to file\nenveloper pull --service aws --to file --path .env\n</code></pre>"},{"location":"cloud-storage/#cross-cloud-migration","title":"Cross-Cloud Migration","text":"<pre><code># Pull from one cloud, push to another\nenveloper pull --service aws -d prod --prefix /app/\nenveloper push --service gcp -d prod --prefix app\n</code></pre>"},{"location":"cloud-storage/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Use IAM policies - Grant least privilege access</li> <li>Enable encryption - Use KMS/HSM for key encryption</li> <li>Audit access - Enable logging and monitor access</li> <li>Rotate secrets - Regularly update credentials</li> <li>Use versioning - Maintain history for rollback</li> <li>Enable soft delete - Prevent accidental permanent deletion</li> </ol>"},{"location":"cloud-storage/#cost-considerations","title":"Cost Considerations","text":"Service Free Tier Pricing Model AWS SSM 10,000 parameters/month $0.05 per 10,000 requests GitHub Secrets Unlimited Free (included with repo) Vault Self-hosted Enterprise pricing GCP Secret Manager 10,000 operations/month $0.03 per 10,000 operations Azure Key Vault 10,000 transactions/month $0.03 per 10,000 operations Alibaba KMS Varies Usage-based"},{"location":"cloud-storage/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cloud-storage/#aws-ssm","title":"AWS SSM","text":"<ul> <li>Check IAM permissions: <code>ssm:GetParameter</code>, <code>ssm:PutParameter</code></li> <li>Verify region configuration</li> <li>Check parameter hierarchy limits</li> </ul>"},{"location":"cloud-storage/#github-secrets","title":"GitHub Secrets","text":"<ul> <li>Verify repository access</li> <li>Check secret name length (max 100 chars)</li> <li>Ensure token has <code>repo</code> scope</li> </ul>"},{"location":"cloud-storage/#vault","title":"Vault","text":"<ul> <li>Verify <code>VAULT_ADDR</code> and <code>VAULT_TOKEN</code></li> <li>Check mount path configuration</li> <li>Ensure KV v2 is enabled</li> </ul>"},{"location":"cloud-storage/#gcpazurealibaba","title":"GCP/Azure/Alibaba","text":"<ul> <li>Verify credentials are configured</li> <li>Check IAM permissions</li> <li>Ensure service is enabled in project</li> </ul>"},{"location":"config-env-overrides/","title":"Config and Environment Variable Overrides","text":""},{"location":"config-env-overrides/#overview","title":"Overview","text":"<p><code>enveloper</code> supports multiple ways to configure project, domain, and service settings. Values can be overridden at different levels, with a clear priority order.</p>"},{"location":"config-env-overrides/#priority-order","title":"Priority Order","text":"<p>Configuration values are resolved in this order (highest to lowest priority):</p> <ol> <li>CLI arguments (e.g., <code>--project myproject</code>)</li> <li>Environment variables (e.g., <code>ENVELOPER_PROJECT=myproject</code>)</li> <li>Config file (<code>.enveloper.toml</code>)</li> <li>Default values (e.g., <code>\"default\"</code>)</li> </ol>"},{"location":"config-env-overrides/#global-options","title":"Global Options","text":"Option Environment Variable Config File Default <code>--project</code> / <code>-p</code> <code>ENVELOPER_PROJECT</code> <code>[enveloper]</code> \u2192 <code>project</code> <code>\"default\"</code> <code>--domain</code> / <code>-d</code> <code>ENVELOPER_DOMAIN</code> <code>[enveloper.domains.&lt;name&gt;]</code> <code>\"default\"</code> <code>--service</code> / <code>-s</code> <code>ENVELOPER_SERVICE</code> <code>[enveloper]</code> \u2192 <code>service</code> <code>\"local\"</code> <code>--version</code> / <code>-v</code> <code>ENVELOPER_VERSION</code> N/A <code>\"1.0.0\"</code>"},{"location":"config-env-overrides/#cli-arguments","title":"CLI Arguments","text":"<p>CLI arguments have the highest priority and override all other settings.</p> <pre><code># Override project\nenveloper list --project myproject\n\n# Override domain\nenveloper list --domain prod\n\n# Override service\nenveloper list --service aws\n\n# Override version\nenveloper list --version 1.0.0\n\n# Combine overrides\nenveloper get MY_KEY --project myapp --domain prod --service aws --version 2.0.0\n</code></pre>"},{"location":"config-env-overrides/#environment-variables","title":"Environment Variables","text":"<p>Environment variables override config file settings but are overridden by CLI arguments.</p>"},{"location":"config-env-overrides/#setting-environment-variables","title":"Setting Environment Variables","text":"<p>Unix/Linux/macOS (bash/zsh): <pre><code>export ENVELOPER_PROJECT=myproject\nexport ENVELOPER_DOMAIN=prod\nexport ENVELOPER_SERVICE=aws\nexport ENVELOPER_VERSION=1.0.0\n</code></pre></p> <p>Windows (PowerShell): <pre><code>$env:ENVELOPER_PROJECT = \"myproject\"\n$env:ENVELOPER_DOMAIN = \"prod\"\n$env:ENVELOPER_SERVICE = \"aws\"\n$env:ENVELOPER_VERSION = \"1.0.0\"\n</code></pre></p> <p>One-time use: <pre><code>ENVELOPER_PROJECT=myproject enveloper list\n</code></pre></p>"},{"location":"config-env-overrides/#available-environment-variables","title":"Available Environment Variables","text":"Variable Purpose <code>ENVELOPER_PROJECT</code> Default project name <code>ENVELOPER_DOMAIN</code> Default domain name <code>ENVELOPER_SERVICE</code> Default service backend <code>ENVELOPER_VERSION</code> Default version <code>ENVELOPER_SSM_PREFIX</code> SSM prefix for Lambda <code>ENVELOPER_USE_SSM</code> Use SSM in Lambda (1/0)"},{"location":"config-env-overrides/#config-file-envelopertoml","title":"Config File (<code>.enveloper.toml</code>)","text":"<p>The config file provides project-level defaults. It's overridden by both CLI arguments and environment variables.</p>"},{"location":"config-env-overrides/#basic-configuration","title":"Basic Configuration","text":"<pre><code>[enveloper]\nproject = \"myproject\"\nservice = \"local\"\n</code></pre>"},{"location":"config-env-overrides/#domain-specific-configuration","title":"Domain-Specific Configuration","text":"<pre><code>[enveloper.domains.aws]\nenv_file = \"/path/to/.env\"\nssm_prefix = \"/myproject/dev/\"\n</code></pre>"},{"location":"config-env-overrides/#service-specific-configuration","title":"Service-Specific Configuration","text":"<pre><code>[enveloper.aws]\nprofile = \"default\"\nregion = \"us-west-2\"\n</code></pre>"},{"location":"config-env-overrides/#override-examples","title":"Override Examples","text":""},{"location":"config-env-overrides/#example-1-project-override","title":"Example 1: Project Override","text":"<p>Config file: <pre><code>[enveloper]\nproject = \"defaultproject\"\n</code></pre></p> <p>CLI command: <pre><code># Uses \"otherproject\" from CLI, not \"defaultproject\" from config\nenveloper list --project otherproject\n</code></pre></p> <p>Environment variable: <pre><code># Uses \"envproject\" from env var\nexport ENVELOPER_PROJECT=envproject\nenveloper list\n</code></pre></p>"},{"location":"config-env-overrides/#example-2-service-override","title":"Example 2: Service Override","text":"<p>Config file: <pre><code>[enveloper]\nservice = \"local\"\n</code></pre></p> <p>CLI command: <pre><code># Uses \"aws\" from CLI\nenveloper list --service aws\n</code></pre></p> <p>Environment variable: <pre><code># Uses \"vault\" from env var\nexport ENVELOPER_SERVICE=vault\nenveloper list\n</code></pre></p>"},{"location":"config-env-overrides/#example-3-domain-override","title":"Example 3: Domain Override","text":"<p>Config file: <pre><code>[enveloper.domains.aws]\nssm_prefix = \"/default/prefix/\"\n</code></pre></p> <p>CLI command: <pre><code># Uses custom prefix from CLI\nenveloper push --service aws --prefix /custom/prefix/\n</code></pre></p>"},{"location":"config-env-overrides/#sdk-usage","title":"SDK Usage","text":""},{"location":"config-env-overrides/#python-sdk","title":"Python SDK","text":"<pre><code>from enveloper import load_dotenv, dotenv_values\n\n# CLI flags override everything\nload_dotenv(project=\"cli_project\")  # Uses \"cli_project\"\n\n# Environment variables override config\nimport os\nos.environ[\"ENVELOPER_PROJECT\"] = \"env_project\"\nload_dotenv()  # Uses \"env_project\"\n\n# Config file is used when no override\nload_dotenv()  # Uses value from .enveloper.toml\n</code></pre>"},{"location":"config-env-overrides/#aws-lambda","title":"AWS Lambda","text":"<pre><code>import os\nfrom enveloper import load_dotenv\n\n# Lambda environment variables override config\nos.environ[\"ENVELOPER_PROJECT\"] = \"lambda_project\"\nload_dotenv()  # Uses \"lambda_project\"\n\n# SSM prefix for Lambda\nos.environ[\"ENVELOPER_SSM_PREFIX\"] = \"/myapp/prod/\"\nload_dotenv(service=\"aws\")\n</code></pre>"},{"location":"config-env-overrides/#best-practices","title":"Best Practices","text":"<ol> <li>Use config file for defaults - Set project-wide defaults</li> <li>Use environment variables for CI/CD - Override in pipelines</li> <li>Use CLI for one-off commands - Quick overrides for testing</li> <li>Document overrides - Note which method is used where</li> <li>Test configurations - Verify with <code>enveloper service</code></li> </ol>"},{"location":"config-env-overrides/#troubleshooting","title":"Troubleshooting","text":""},{"location":"config-env-overrides/#unexpected-value","title":"Unexpected Value","text":"<p>If you're getting unexpected values:</p> <ol> <li>Check CLI arguments - Are you passing flags?</li> <li>Check environment variables - Run <code>env | grep ENVELOPER</code></li> <li>Check config file - Run <code>cat .enveloper.toml</code></li> <li>Check defaults - What are the built-in defaults?</li> </ol>"},{"location":"config-env-overrides/#debugging","title":"Debugging","text":"<pre><code># Show current configuration\nenveloper service\n\n# Check environment variables\nenv | grep ENVELOPER\n\n# Check config file\ncat .enveloper.toml\n</code></pre>"},{"location":"config-env-overrides/#common-issues","title":"Common Issues","text":"<p>Issue: CLI flag not overriding config file</p> <p>Solution: Ensure flag is placed before the command: <pre><code># Correct\nenveloper --project myproject list\n\n# Wrong (flag after command)\nenveloper list --project myproject\n</code></pre></p> <p>Issue: Environment variable not being read</p> <p>Solution: Ensure variable is exported: ```bash</p>"},{"location":"config-env-overrides/#correct","title":"Correct","text":"<p>export ENVELOPER_PROJECT=myproject enveloper list</p>"},{"location":"config-env-overrides/#wrong-not-exported","title":"Wrong (not exported)","text":"<p>ENVELOPER_PROJECT=myproject enveloper list</p>"},{"location":"development/","title":"Development and Contribution","text":""},{"location":"development/#overview","title":"Overview","text":"<p>This document covers setting up a development environment, running tests, and contributing to <code>enveloper</code>.</p>"},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8+</li> <li><code>uv</code> (recommended) or <code>pip</code></li> <li>Git</li> </ul>"},{"location":"development/#setup","title":"Setup","text":""},{"location":"development/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/raminf/enveloper.git\ncd enveloper\n</code></pre>"},{"location":"development/#install-dependencies","title":"Install Dependencies","text":"<p>Using <code>uv</code> (recommended):</p> <pre><code>uv sync --extra dev --all-extras\n</code></pre> <p>Using <code>pip</code>:</p> <pre><code>pip install -e \".[dev,aws,vault,gcp,azure,alibaba]\"\n</code></pre>"},{"location":"development/#development-commands","title":"Development Commands","text":""},{"location":"development/#running-tests","title":"Running Tests","text":"<pre><code># All unit tests\nuv run pytest tests/ -v\n\n# Or use the Makefile\nmake test\n\n# With coverage\nmake test-cov\n</code></pre>"},{"location":"development/#linting-and-type-checking","title":"Linting and Type Checking","text":"<pre><code># Run linter (Ruff)\nmake lint\n\n# Run type checker (mypy)\nmake typecheck\n\n# Auto-format\nmake format\n\n# Run all checks\nmake check\n</code></pre>"},{"location":"development/#building-and-installing","title":"Building and Installing","text":"<pre><code># Build package\nuv build\n\n# Install in development mode\npip install -e \".[all]\"\n\n# Install with extras\npip install -e \".[dev,aws,vault,gcp,azure,alibaba]\"\n</code></pre>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>enveloper/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 enveloper/\n\u2502       \u251c\u2500\u2500 __init__.py          # Package init\n\u2502       \u251c\u2500\u2500 __main__.py          # CLI entry point\n\u2502       \u251c\u2500\u2500 config.py            # Configuration loading\n\u2502       \u251c\u2500\u2500 env_file.py          # .env file handling\n\u2502       \u251c\u2500\u2500 resolve_store.py     # Store resolution\n\u2502       \u251c\u2500\u2500 sdk.py               # SDK functions\n\u2502       \u251c\u2500\u2500 store.py             # SecretStore base class\n\u2502       \u251c\u2500\u2500 util.py              # Utility functions\n\u2502       \u251c\u2500\u2500 cli/                 # CLI commands\n\u2502       \u2502   \u251c\u2500\u2500 __init__.py\n\u2502       \u2502   \u251c\u2500\u2500 clear_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 crud_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 export_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 generate_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 import_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 init_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 list_cmd.py\n\u2502       \u2502   \u251c\u2500\u2500 push_pull_cmd.py\n\u2502       \u2502   \u2514\u2500\u2500 service_cmd.py\n\u2502       \u2514\u2500\u2500 stores/              # Store plugins\n\u2502           \u251c\u2500\u2500 __init__.py\n\u2502           \u251c\u2500\u2500 keychain.py\n\u2502           \u251c\u2500\u2500 file_store.py\n\u2502           \u251c\u2500\u2500 aws_ssm.py\n\u2502           \u251c\u2500\u2500 github.py\n\u2502           \u251c\u2500\u2500 vault.py\n\u2502           \u251c\u2500\u2500 gcp_sm.py\n\u2502           \u251c\u2500\u2500 azure_kv.py\n\u2502           \u2514\u2500\u2500 aliyun_sm.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 conftest.py              # Test fixtures\n\u2502   \u251c\u2500\u2500 test_*.py                # Unit tests\n\u2502   \u2514\u2500\u2500 integration/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 conftest.py\n\u2502       \u2514\u2500\u2500 test_*.py            # Integration tests\n\u251c\u2500\u2500 docs/                        # Documentation\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 pyproject.toml\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"development/#adding-a-new-store","title":"Adding a New Store","text":"<p>See Adding Stores for detailed instructions.</p>"},{"location":"development/#writing-tests","title":"Writing Tests","text":""},{"location":"development/#unit-tests","title":"Unit Tests","text":"<p>Unit tests are in <code>tests/</code> and use mocked stores.</p> <pre><code>import pytest\nfrom enveloper import load_dotenv, dotenv_values\n\n\ndef test_load_dotenv():\n    # Test with mocked keychain\n    load_dotenv(project=\"test\", domain=\"test\")\n    # Add assertions\n\n\ndef test_dotenv_values():\n    env = dotenv_values(project=\"test\", domain=\"test\")\n    assert isinstance(env, dict)\n</code></pre>"},{"location":"development/#integration-tests","title":"Integration Tests","text":"<p>Integration tests are in <code>tests/integration/</code> and require real credentials.</p> <pre><code>import pytest\nfrom enveloper.stores.aws_ssm import AWSSSMStore\n\n\n@pytest.mark.integration_aws\ndef test_aws_ssm_roundtrip():\n    store = AWSSSMStore(prefix=\"test/\")\n    store.set(\"MY_KEY\", \"hello\")\n    assert store.get(\"MY_KEY\") == \"hello\"\n    store.delete(\"MY_KEY\")\n    assert store.get(\"MY_KEY\") is None\n</code></pre> <p>Run integration tests with:</p> <pre><code># AWS\nENVELOPER_TEST_AWS=1 pytest -m integration_aws tests/integration/\n\n# GCP\nENVELOPER_TEST_GCP=1 pytest -m integration_gcp tests/integration/\n\n# Azure\nENVELOPER_TEST_AZURE=1 pytest -m integration_azure tests/integration/\n\n# Alibaba\nENVELOPER_TEST_ALIBABA=1 pytest -m integration_alibaba tests/integration/\n</code></pre>"},{"location":"development/#code-style","title":"Code Style","text":""},{"location":"development/#formatting","title":"Formatting","text":"<ul> <li>Use Ruff for formatting</li> <li>Line length: 130 characters</li> <li>Use double quotes for strings</li> </ul>"},{"location":"development/#type-hints","title":"Type Hints","text":"<ul> <li>Use type hints for all functions</li> <li>Use <code>str | None</code> for optional strings (Python 3.10+)</li> </ul>"},{"location":"development/#documentation","title":"Documentation","text":"<ul> <li>Document all public functions</li> <li>Use Google-style docstrings</li> <li>Include examples for complex functions</li> </ul>"},{"location":"development/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Run tests and linting</li> <li>Update documentation if needed</li> <li>Submit a pull request</li> </ol>"},{"location":"development/#release-process","title":"Release Process","text":"<ol> <li>Update version in <code>pyproject.toml</code></li> <li>Update <code>CHANGELOG.md</code></li> <li>Create a tag: <code>git tag v0.1.0</code></li> <li>Push the tag: <code>git push origin v0.1.0</code></li> <li>Publish to PyPI: <code>make publish</code></li> </ol>"},{"location":"development/#troubleshooting","title":"Troubleshooting","text":""},{"location":"development/#test-failures","title":"Test Failures","text":"<pre><code># Check Python version\npython --version\n\n# Reinstall dependencies\nuv sync --reinstall --extra dev --all-extras\n</code></pre>"},{"location":"development/#linting-issues","title":"Linting Issues","text":"<pre><code># Auto-format\nmake format\n\n# Check specific file\nruff check src/enveloper/my_file.py\n</code></pre>"},{"location":"development/#type-checking-issues","title":"Type Checking Issues","text":"<p>```bash</p>"},{"location":"development/#run-mypy","title":"Run mypy","text":"<p>mypy src/enveloper/</p>"},{"location":"development/#or-use-the-makefile","title":"Or use the Makefile","text":"<p>make typecheck</p>"},{"location":"disclosures/","title":"Disclosures","text":"<p>The problem with having code secrets in <code>.env</code> files is that not only is there the risk of accidentally leaking them into a shared repository, but with LLMs able to access the local filesystem, some of these secrets could inadvertently make their way into training sets.</p> <p>It's also really hard to make sure they're kept consistent and uptodate across different projects and shared teams. Fortunately, local secure keychains are now available across all major OS platforms. </p> <p>I built this for a solo project covering many domains and languages: web (Vue.js), cross-platform desktop app (Rust+Tauri), background privileged system services (Rust), firmware (C/C++), and serverless (CDK with Typescript, Python lambdas), as well as a variety of toolchains (esp-idf, python, rust, npm/typescript, CDK) and build tools (Github Actions, CodeBuild CI/CD, Makefiles).</p> <p>Storing and managing all the secrets inside <code>.env</code> files just became untenable. Each domain needed its own set of different settings, and different values would be needed across various stages of development (i.e. dev, test, qa, prod). Also, as these variables evolve, there would be a need for fine-grain versioning at the individual item level.</p> <p>My own needs were very specific: I wanted it to use my local Mac keychain, build and flash to ESP32 devices, package and sign for various OSes (Mac, Linux, Windows), and deploy to AWS serverless.</p> <p>When developing this, I wanted to maintain backward compatibility with <code>.env</code> and Python <code>dotenv</code> SDK, But I also wanted to offer coverage for other cloud providers that I personally had no experience with. Mainly, I wanted something others could use and integrate into their day-to-day lives.</p> <p>I'm hoping others will test this out with their favorite cloud-service providers and contribute fixes and PRs. The section on testing covers how to enable tests for different platforms. These are currently mocked.</p> <p>The section on <code>services</code> covers how to plug in other service providers. If you do decide to add your own, please make sure to include tests specific to them and include the test run results in PRs. I will likely have no way to validate the tests and will have to trust that your own backend service.</p> <p>I'll try to set up automated testing as part of the release, but it may not be viable to run against every remote backend service.</p>"},{"location":"disclosures/#on-python","title":"On Python","text":"<p>I chose Python, mainly because it already had a cross-platform, keyring local keychain library, and most cloud-providers have SDKs that allow direct access to their secrets managers. </p> <p>However, it was awfully tempting to make it be a native standalone executable via Rust. There is a corresponding keyring but the cloud-service SDKs weren't just there, and that meant the daunting prospect of reverse-engineering an awful lot of cloud-service calls.</p> <p>In the future, as Rust coverage grows, it may be worth moving to make it a standalone executable withuot external runtime dependencies. </p>"},{"location":"disclosures/#on-vibe-coding","title":"On Vibe-coding","text":"<p>I've personally built multiple CLI-based tools using the same stack here, and created simpler versions of this for a number of internal projects. </p> <p>For this version, however, I made use of both locally run and remote LLMs, essentially as scribe/transcribers. These were all manually controlled with small, precise instructions at all times.</p> <p>The local stack was run on an NVidia DGX Spark using the latest (as of this writing) Qwen model via vLLM. It ran great, but would sometimes get into loops. And the Spark would overheat a little (my solo project was to keep an eye on all this). </p> <p>For remote LLMs, I used Cursor, primarily with Claude Opus 4.6.</p> <p>LLMs were also used to generate tests (again, under very specific, tight instructions), augmented by hand-made integration tests.</p> <p>Also creation of mechanical parts of some of the docs, like examples, references, etc. were done by LLMs. I hand-wrote the first draft of the docs, but as it got larger and more cumbersome, I asked an LLM to refactor it and expand the contents. I hand-generated all the illustrations and screenshots and reviewed the contents.</p> <p>Having said that, all mistakes and errors are mine.</p>"},{"location":"json-yaml/","title":"JSON/YAML Details","text":""},{"location":"json-yaml/#overview","title":"Overview","text":"<p><code>enveloper</code> supports importing and exporting secrets in JSON and YAML formats, making it easy to integrate with Docker, CDK, and other project formats.</p>"},{"location":"json-yaml/#supported-formats","title":"Supported Formats","text":"Format Extension Description JSON <code>.json</code> JavaScript Object Notation YAML <code>.yaml</code>, <code>.yml</code> YAML Ain't Markup Language"},{"location":"json-yaml/#import-formats","title":"Import Formats","text":""},{"location":"json-yaml/#json","title":"JSON","text":"<p>Flat format: <pre><code>{\n  \"KEY1\": \"value1\",\n  \"KEY2\": \"value2\"\n}\n</code></pre></p> <p>Nested with domain: <pre><code>{\n  \"prod\": {\n    \"KEY1\": \"value1\",\n    \"KEY2\": \"value2\"\n  }\n}\n</code></pre></p> <p>Nested with domain and project: <pre><code>{\n  \"prod\": {\n    \"myapp\": {\n      \"KEY1\": \"value1\",\n      \"KEY2\": \"value2\"\n    }\n  }\n}\n</code></pre></p> <p>Complex nested structure: <pre><code>{\n  \"prod\": {\n    \"myapp\": {\n      \"DATABASE_URL\": \"postgres://...\",\n      \"API_KEY\": \"secret123\"\n    },\n    \"staging\": {\n      \"DATABASE_URL\": \"postgres://staging...\",\n      \"API_KEY\": \"staging123\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"json-yaml/#yaml","title":"YAML","text":"<p>Flat format: <pre><code>KEY1: value1\nKEY2: value2\n</code></pre></p> <p>Nested with domain: <pre><code>prod:\n  KEY1: value1\n  KEY2: value2\n</code></pre></p> <p>Nested with domain and project: <pre><code>prod:\n  myapp:\n    KEY1: value1\n    KEY2: value2\n</code></pre></p> <p>Complex nested structure: <pre><code>prod:\n  myapp:\n    DATABASE_URL: \"postgres://...\"\n    API_KEY: \"secret123\"\n  staging:\n    DATABASE_URL: \"postgres://staging...\"\n    API_KEY: \"staging123\"\n</code></pre></p>"},{"location":"json-yaml/#import-commands","title":"Import Commands","text":""},{"location":"json-yaml/#import-json","title":"Import JSON","text":"<pre><code># Import flat JSON\nenveloper import secrets.json --format json -d prod\n\n# Import nested JSON (domain in file)\nenveloper import secrets.json --format json\n</code></pre>"},{"location":"json-yaml/#import-yaml","title":"Import YAML","text":"<pre><code># Import flat YAML\nenveloper import secrets.yaml --format yaml -d prod\n\n# Import nested YAML (domain in file)\nenveloper import secrets.yaml --format yaml\n</code></pre>"},{"location":"json-yaml/#export-formats","title":"Export Formats","text":""},{"location":"json-yaml/#json_1","title":"JSON","text":"<p>Export produces a flat key-value object for the chosen domain:</p> <pre><code>enveloper export -d prod --format json\n</code></pre> <p>Output: <pre><code>{\n  \"KEY1\": \"value1\",\n  \"KEY2\": \"value2\"\n}\n</code></pre></p>"},{"location":"json-yaml/#yaml_1","title":"YAML","text":"<pre><code>enveloper export -d prod --format yaml\n</code></pre> <p>Output: <pre><code>KEY1: value1\nKEY2: value2\n</code></pre></p>"},{"location":"json-yaml/#use-cases","title":"Use Cases","text":""},{"location":"json-yaml/#docker-integration","title":"Docker Integration","text":"<p>docker-compose.yml: <pre><code>version: '3.8'\nservices:\n  app:\n    image: myapp:latest\n    env_file:\n      - .env\n    environment:\n      - DATABASE_URL=${DATABASE_URL}\n      - API_KEY=${API_KEY}\n</code></pre></p> <p>Export for Docker: <pre><code>enveloper export -d prod --format dotenv -o .env\ndocker-compose up\n</code></pre></p>"},{"location":"json-yaml/#cdk-terraform","title":"CDK / Terraform","text":"<p>Export for infrastructure: <pre><code>enveloper export -d prod --format json -o config.json\n</code></pre></p> <p>Use in CDK: <pre><code>import json\nfrom aws_cdk import aws_lambda\n\nwith open('config.json') as f:\n    config = json.load(f)\n\nlambda_fn = lambda_.Function(\n    self, \"MyFunction\",\n    environment=config\n)\n</code></pre></p>"},{"location":"json-yaml/#kubernetes","title":"Kubernetes","text":"<p>Export for Kubernetes: <pre><code>enveloper export -d prod --format yaml -o secrets.yaml\n</code></pre></p> <p>Kubernetes Secret: <pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secrets\ntype: Opaque\ndata:\n  KEY1: {{ env.KEY1 | b64enc }}\n  KEY2: {{ env.KEY2 | b64enc }}\n</code></pre></p>"},{"location":"json-yaml/#cicd-configuration","title":"CI/CD Configuration","text":"<p>GitHub Actions: <pre><code>- name: Export secrets\n  run: |\n    enveloper export -d prod --format dotenv &gt; $GITHUB_ENV\n</code></pre></p> <p>GitLab CI: <pre><code>- name: Export secrets\n  run: |\n    eval \"$(enveloper export -d prod --format unix)\"\n</code></pre></p>"},{"location":"json-yaml/#format-comparison","title":"Format Comparison","text":"Feature JSON YAML Readability Good Excellent Comments No Yes Nested data Good Excellent Size Smaller Larger Parsing speed Faster Slower Type support Limited Better"},{"location":"json-yaml/#best-practices","title":"Best Practices","text":"<ol> <li>Use JSON for CI/CD - Faster parsing, less ambiguity</li> <li>Use YAML for human editing - More readable, supports comments</li> <li>Keep files versioned - Track changes in git</li> <li>Validate before import - Use <code>jq</code> or <code>yamllint</code></li> <li>Use consistent structure - Follow project conventions</li> </ol>"},{"location":"json-yaml/#validation","title":"Validation","text":""},{"location":"json-yaml/#json-validation","title":"JSON Validation","text":"<pre><code># Validate JSON syntax\njq . secrets.json\n\n# Or use Python\npython -m json.tool secrets.json\n</code></pre>"},{"location":"json-yaml/#yaml-validation","title":"YAML Validation","text":"<pre><code># Validate YAML syntax (requires PyYAML)\npython -c \"import yaml; yaml.safe_load(open('secrets.yaml'))\"\n\n# Or use yamllint\nyamllint secrets.yaml\n</code></pre>"},{"location":"json-yaml/#troubleshooting","title":"Troubleshooting","text":""},{"location":"json-yaml/#invalid-json","title":"Invalid JSON","text":"<pre><code># Check for syntax errors\njq . secrets.json\n\n# Common issues:\n# - Trailing commas\n# - Unquoted keys\n# - Single quotes instead of double\n</code></pre>"},{"location":"json-yaml/#invalid-yaml","title":"Invalid YAML","text":"<pre><code># Check indentation consistency\n# YAML is sensitive to spacing\n\n# Common issues:\n# - Mixed tabs/spaces\n# - Incorrect indentation\n# - Unescaped special characters\n</code></pre>"},{"location":"json-yaml/#format-mismatch","title":"Format Mismatch","text":"<p>```bash</p>"},{"location":"json-yaml/#ensure-format-matches-file-type","title":"Ensure format matches file type","text":"<p>enveloper import secrets.json --format json enveloper import secrets.yaml --format yaml</p>"},{"location":"license/","title":"License","text":""},{"location":"license/#gnu-affero-general-public-license-v30-or-later-agpl-30-or-later","title":"GNU Affero General Public License v3.0 or later (AGPL-3.0-or-later)","text":"<p>This project is licensed under the GNU Affero General Public License v3.0 or later (AGPL-3.0-or-later). See LICENSE for the full text.</p>"},{"location":"license/#summary","title":"Summary","text":"<p>In short: you may use, modify, and distribute the software, but if you run a modified version as a network service, you must offer the corresponding source to users under the same license. Derivative works must be released under the AGPL.</p>"},{"location":"license/#full-license-text","title":"Full License Text","text":"<p>See LICENSE for the complete license text.</p>"},{"location":"license/#what-this-means-for-you","title":"What This Means for You","text":""},{"location":"license/#you-can","title":"You Can","text":"<ul> <li>Use the software for any purpose</li> <li>Modify the software</li> <li>Distribute the software</li> <li>Distribute modified versions</li> </ul>"},{"location":"license/#you-must","title":"You Must","text":"<ul> <li>Include the original license</li> <li>State changes made to the software</li> <li>Share source code when distributing</li> <li>Share source code when using as a network service</li> </ul>"},{"location":"license/#what-this-means-for","title":"What This Means for...","text":""},{"location":"license/#individual-developers","title":"Individual Developers","text":"<p>You can use <code>enveloper</code> for personal projects, modify it, and share your modifications. If you distribute your modified version, you must also license it under AGPL.</p>"},{"location":"license/#companies","title":"Companies","text":"<p>You can use <code>enveloper</code> internally without any restrictions. If you distribute a modified version or use it as a network service (e.g., a web app), you must offer the source code under the same license.</p>"},{"location":"license/#saas-providers","title":"SaaS Providers","text":"<p>If you use <code>enveloper</code> to power a web application or SaaS, you must make the source code of your modified version available to your users under the AGPL.</p>"},{"location":"license/#commercial-licensing","title":"Commercial Licensing","text":"<p>If you need a different license for commercial use, please contact the author to discuss options.</p>"},{"location":"license/#contributing","title":"Contributing","text":"<p>By contributing to this project, you agree to license your contributions under the AGPL-3.0-or-later license.</p>"},{"location":"license/#disclaimer","title":"Disclaimer","text":"<p>This software is provided \"as is\", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose, and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the software or the use or other dealings in the software.</p>"},{"location":"local-keychain/","title":"Local Keychain Implementation","text":""},{"location":"local-keychain/#overview","title":"Overview","text":"<p>The local keychain is the default storage backend for <code>enveloper</code>. It uses your operating system's native secure credential storage:</p> Platform Storage Backend macOS macOS Keychain Linux Secret Service (gnome-keyring, kwallet) Windows Windows Credential Locker"},{"location":"local-keychain/#benefits-of-local-keychain","title":"Benefits of Local Keychain","text":""},{"location":"local-keychain/#security","title":"Security","text":"<ul> <li>Secrets are encrypted at rest using OS-level encryption</li> <li>Access is controlled by OS authentication (password, biometrics)</li> <li>No secrets are written to disk as plain text</li> <li>No external dependencies or network access required</li> </ul>"},{"location":"local-keychain/#convenience","title":"Convenience","text":"<ul> <li>Single sign-on with your OS login</li> <li>Touch ID / Fingerprint support on supported devices</li> <li>Automatic unlock when you log in to your machine</li> <li>No password management required for secrets</li> </ul>"},{"location":"local-keychain/#privacy","title":"Privacy","text":"<ul> <li>Secrets never leave your machine (unless you explicitly push to cloud)</li> <li>No third-party access to your credentials</li> <li>No subscription fees or cloud costs</li> </ul>"},{"location":"local-keychain/#local-keychain-vs-venv-vs-cloud","title":"Local Keychain vs. .venv vs. Cloud","text":""},{"location":"local-keychain/#comparison-table","title":"Comparison Table","text":"Feature Local Keychain .venv (File) Cloud Storage Encryption OS-level None (plain text) Provider-level Access Control OS authentication File permissions IAM policies Portability Machine-specific File-based Cross-machine Backup OS backup Manual Automatic Team Sharing Not built-in Manual file sharing Built-in Cost Free Free Variable (usage-based) Network Required No No Yes Offline Use Yes Yes No"},{"location":"local-keychain/#when-to-use-each","title":"When to Use Each","text":""},{"location":"local-keychain/#local-keychain-default","title":"Local Keychain (Default)","text":"<ul> <li>Best for: Individual development, local builds, sensitive credentials</li> <li>Use when: You want maximum security with minimal setup</li> <li>Example: API keys, database passwords for local development</li> </ul>"},{"location":"local-keychain/#venv-file","title":".venv (File)","text":"<ul> <li>Best for: Non-sensitive configuration, CI/CD environments</li> <li>Use when: You need to commit configuration to version control</li> <li>Example: Feature flags, non-sensitive environment settings</li> </ul>"},{"location":"local-keychain/#cloud-storage","title":"Cloud Storage","text":"<ul> <li>Best for: Team collaboration, production deployments</li> <li>Use when: You need to share secrets across team members</li> <li>Example: Production credentials, shared API keys</li> </ul>"},{"location":"local-keychain/#platform-specific-details","title":"Platform-Specific Details","text":""},{"location":"local-keychain/#macos-keychain","title":"macOS Keychain","text":"<p>How it works: - Uses the macOS Keychain API via the <code>keyring</code> library - Stores secrets in the user's login keychain - Supports Touch ID authentication</p> <p>Configuration: <pre><code># Initialize keychain access (run once after install)\nenveloper init\n\n# This disables auto-lock for the login keychain\n# First access may show an \"allow keychain\" dialog\n# Click \"Always Allow\" to avoid password prompts\n</code></pre></p> <p>Touch ID for sudo: You can configure Touch ID for <code>sudo</code> commands: <pre><code># Add to /etc/pam.d/sudo_local\nauth sufficient pam_tid.so\n</code></pre></p>"},{"location":"local-keychain/#linux-secret-service","title":"Linux Secret Service","text":"<p>Supported backends: - <code>gnome-keyring</code> (GNOME desktop) - <code>kwallet</code> (KDE desktop) - <code>secret-service</code> (generic)</p> <p>Requirements: <pre><code># Ubuntu/Debian\nsudo apt install gnome-keyring\n\n# Fedora\nsudo dnf install gnome-keyring\n\n# Arch Linux\nsudo pacman -S gnome-keyring\n\n# KDE (KWallet)\nsudo apt install kwallet\n</code></pre></p> <p>Configuration: <pre><code># Initialize (checks daemon is running)\nenveloper init\n\n# Ensure your keyring is unlocked at login\n# Most desktop environments handle this automatically\n</code></pre></p>"},{"location":"local-keychain/#windows-credential-locker","title":"Windows Credential Locker","text":"<p>How it works: - Uses Windows Credential Manager API - Stores in Windows Credential Locker - Unlocked with your Windows session</p> <p>Configuration: - No additional setup required - Windows Hello works if configured - Credentials are encrypted with user-specific key</p>"},{"location":"local-keychain/#keychain-operations","title":"Keychain Operations","text":""},{"location":"local-keychain/#storing-a-secret","title":"Storing a Secret","text":"<pre><code>enveloper set MY_KEY my_value -d prod\n</code></pre>"},{"location":"local-keychain/#retrieving-a-secret","title":"Retrieving a Secret","text":"<pre><code>enveloper get MY_KEY -d prod\n</code></pre>"},{"location":"local-keychain/#listing-secrets","title":"Listing Secrets","text":"<pre><code>enveloper list -d prod\n</code></pre>"},{"location":"local-keychain/#deleting-a-secret","title":"Deleting a Secret","text":"<pre><code>enveloper delete MY_KEY -d prod\n</code></pre>"},{"location":"local-keychain/#clearing-all-secrets","title":"Clearing All Secrets","text":"<pre><code>enveloper clear -d prod\n</code></pre>"},{"location":"local-keychain/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Use local keychain for development - Keep sensitive credentials local</li> <li>Push to cloud only when needed - Use <code>enveloper push</code> to share with team</li> <li>Enable OS-level security - Use strong passwords, biometrics</li> <li>Regular backups - Ensure your OS keychain is backed up</li> <li>Use versioning - Maintain multiple versions for rollback</li> </ol>"},{"location":"local-keychain/#troubleshooting","title":"Troubleshooting","text":""},{"location":"local-keychain/#macos-keychain-issues","title":"macOS Keychain Issues","text":"<p>\"Allow keychain\" dialog appears every time: - Open Keychain Access - Find the enveloper entry - Double-click and change \"Access Control\" to \"Allow all applications\"</p> <p>Keychain is locked: <pre><code># Unlock via command line\nsecurity unlock-keychain ~/Library/Keychains/login.keychain-db\n</code></pre></p>"},{"location":"local-keychain/#linux-secret-service-issues","title":"Linux Secret Service Issues","text":"<p>Daemon not running: <pre><code># Start gnome-keyring\neval $(gnome-keyring-daemon --start --components=keyring)\nexport SSH_AUTH_SOCK\n</code></pre></p> <p>Permission denied: <pre><code># Check keyring status\nsecret-tool --help\n\n# Unlock keyring\ngnome-keyring-daemon --unlock\n</code></pre></p>"},{"location":"local-keychain/#windows-credential-locker-issues","title":"Windows Credential Locker Issues","text":"<p>Credentials not found: - Open Windows Credential Manager - Check under \"Windows Credentials\" - Verify the enveloper entries exist</p> <p>Access denied: - Run as current user (not administrator) - Check Windows Hello is configured</p>"},{"location":"makefile-integration/","title":"Makefile Integration","text":""},{"location":"makefile-integration/#overview","title":"Overview","text":"<p><code>enveloper</code> integrates seamlessly with Makefiles, providing a clean way to manage secrets in your build process.</p>"},{"location":"makefile-integration/#basic-integration","title":"Basic Integration","text":""},{"location":"makefile-integration/#three-tier-fallback","title":"Three-Tier Fallback","text":"<p>The recommended approach uses a three-tier fallback system:</p> <ol> <li>CI environment variables (highest priority)</li> <li>enveloper (medium priority)</li> <li>.env file (lowest priority)</li> </ol> <pre><code># Three-tier fallback: CI env vars &gt; enveloper &gt; .env file\nifneq ($(CI),)\n  # CI: env vars pre-set\nelse ifneq ($(shell command -v enveloper 2&gt;/dev/null),)\n  $(shell enveloper export -d prod --format dotenv &gt; /tmp/.enveloper-$(USER).env 2&gt;/dev/null)\n  -include /tmp/.enveloper-$(USER).env\nelse ifneq (,$(wildcard .env))\n  -include .env\nendif\nexport\n</code></pre>"},{"location":"makefile-integration/#simple-integration","title":"Simple Integration","text":"<p>For simpler projects:</p> <pre><code># Load secrets from enveloper\ninclude /tmp/.enveloper.env\n\n# Generate secrets file\n/tmp/.enveloper.env:\n    @enveloper export -d prod --format dotenv &gt; $@\n\n# Clean up\nclean:\n    rm -f /tmp/.enveloper.env\n</code></pre>"},{"location":"makefile-integration/#advanced-integration","title":"Advanced Integration","text":""},{"location":"makefile-integration/#project-specific-configuration","title":"Project-Specific Configuration","text":"<pre><code># Project settings\nPROJECT ?= myapp\nDOMAIN ?= prod\nSERVICE ?= local\n\n# Load secrets\n-include /tmp/.enveloper-$(PROJECT)-$(DOMAIN).env\n\n# Generate secrets\n/tmp/.enveloper-$(PROJECT)-$(DOMAIN).env:\n    @enveloper export -d $(DOMAIN) --service $(SERVICE) --format dotenv &gt; $@\n\n# Clean up\n.PHONY: clean\nclean:\n    rm -f /tmp/.enveloper-$(PROJECT)-$(DOMAIN).env\n</code></pre>"},{"location":"makefile-integration/#environment-specific-targets","title":"Environment-Specific Targets","text":"<pre><code># Environment targets\ndev:\n    $(MAKE) build DOMAIN=dev\n\nstaging:\n    $(MAKE) build DOMAIN=staging\n\nprod:\n    $(MAKE) build DOMAIN=prod\n\n# Build target\nbuild:\n    @echo \"Building for $(DOMAIN) environment\"\n    @echo \"DATABASE_URL=$(DATABASE_URL)\"\n    @make -f Makefile.build\n</code></pre>"},{"location":"makefile-integration/#conditional-loading","title":"Conditional Loading","text":"<pre><code># Check if enveloper is available\nHAS_ENVELOPER := $(shell command -v enveloper 2&gt;/dev/null)\n\n# Load secrets if available\nifeq ($(HAS_ENVELOPER),)\n  # enveloper not available, use .env file\n  -include .env\nelse\n  # enveloper available, use it\n  $(shell enveloper export -d prod --format dotenv &gt; /tmp/.enveloper.env 2&gt;/dev/null)\n  -include /tmp/.enveloper.env\nendif\nexport\n</code></pre>"},{"location":"makefile-integration/#common-patterns","title":"Common Patterns","text":""},{"location":"makefile-integration/#database-migration","title":"Database Migration","text":"<pre><code># Database migration with secrets\nmigrate:\n    @echo \"Running database migration...\"\n    @export DATABASE_URL=$(DATABASE_URL) &amp;&amp; \\\n        python -m alembic upgrade head\n\n# Or using enveloper directly\nmigrate:\n    @eval \"$$(enveloper export -d prod --format unix)\"\n    @python -m alembic upgrade head\n</code></pre>"},{"location":"makefile-integration/#testing","title":"Testing","text":"<pre><code># Run tests with secrets\ntest:\n    @eval \"$$(enveloper export -d test --format unix)\"\n    @pytest tests/\n\n# Or with specific service\ntest-aws:\n    @eval \"$$(enveloper export -d test --service aws --format unix)\"\n    @pytest tests/\n</code></pre>"},{"location":"makefile-integration/#docker-build","title":"Docker Build","text":"<pre><code># Build with secrets\ndocker-build:\n    @eval \"$$(enveloper export -d prod --format unix)\"\n    @docker build --build-arg DATABASE_URL=$$DATABASE_URL \\\n        --build-arg API_KEY=$$API_KEY \\\n        -t myapp:latest .\n\n# Or using .env file\ndocker-build:\n    @enveloper export -d prod --format dotenv &gt; .env.docker\n    @docker build --env-file .env.docker -t myapp:latest .\n    @rm -f .env.docker\n</code></pre>"},{"location":"makefile-integration/#deployment","title":"Deployment","text":"<pre><code># Deploy with secrets\ndeploy:\n    @eval \"$$(enveloper export -d prod --format unix)\"\n    @aws ecs update-service \\\n        --cluster myapp \\\n        --service myapp \\\n        --force-new-deployment\n\n# Or using GitHub Actions\ndeploy:\n    @enveloper push --service github -d prod --repo owner/repo\n</code></pre>"},{"location":"makefile-integration/#complete-example","title":"Complete Example","text":"<pre><code># Makefile with enveloper integration\n\n# Project settings\nPROJECT ?= myapp\nDOMAIN ?= prod\nSERVICE ?= local\n\n# Three-tier fallback\nifneq ($(CI),)\n  # CI: env vars pre-set\nelse ifneq ($(shell command -v enveloper 2&gt;/dev/null),)\n  $(shell enveloper export -d $(DOMAIN) --service $(SERVICE) --format dotenv &gt; /tmp/.enveloper-$(USER).env 2&gt;/dev/null)\n  -include /tmp/.enveloper-$(USER).env\nelse ifneq (,$(wildcard .env))\n  -include .env\nendif\nexport\n\n# Targets\n.PHONY: all\nall: build\n\n.PHONY: build\nbuild:\n    @echo \"Building $(PROJECT) for $(DOMAIN)...\"\n    @echo \"DATABASE_URL=$(DATABASE_URL)\"\n    @make -f Makefile.build\n\n.PHONY: test\ntest:\n    @eval \"$$(enveloper export -d test --format unix)\"\n    @pytest tests/\n\n.PHONY: deploy\ndeploy:\n    @eval \"$$(enveloper export -d prod --format unix)\"\n    @aws ecs update-service \\\n        --cluster $(PROJECT) \\\n        --service $(PROJECT) \\\n        --force-new-deployment\n\n.PHONY: clean\nclean:\n    rm -f /tmp/.enveloper-$(USER).env\n</code></pre>"},{"location":"makefile-integration/#best-practices","title":"Best Practices","text":"<ol> <li>Use environment-specific domains - Separate dev, staging, prod</li> <li>Clean up temp files - Remove generated .env files</li> <li>Handle missing secrets - Provide fallback values</li> <li>Use CI detection - Different behavior in CI vs local</li> <li>Document secrets - Keep .env.example in repo</li> </ol>"},{"location":"makefile-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"makefile-integration/#secret-not-found","title":"Secret Not Found","text":"<pre><code># Check if secret exists\ncheck-secrets:\n    @if [ -z \"$(DATABASE_URL)\" ]; then \\\n        echo \"DATABASE_URL not set\"; \\\n        exit 1; \\\n    fi\n</code></pre>"},{"location":"makefile-integration/#enveloper-not-available","title":"Enveloper Not Available","text":"<pre><code># Check if enveloper is installed\ncheck-enveloper:\n    @command -v enveloper &gt;/dev/null 2&gt;&amp;1 || { \\\n        echo \"enveloper not installed. Install with: pip install enveloper\"; \\\n        exit 1; \\\n    }\n</code></pre>"},{"location":"makefile-integration/#permission-denied","title":"Permission Denied","text":"<p>```makefile</p>"},{"location":"makefile-integration/#check-credentials","title":"Check credentials","text":"<p>check-credentials:     @aws sts get-caller-identity || { \\         echo \"AWS credentials not set\"; \\         exit 1; \\     }</p>"},{"location":"other-projects/","title":"Other Projects","text":"<p>This document compares <code>enveloper</code> with other tools and libraries for environment and secrets management.</p>"},{"location":"other-projects/#comparison-table","title":"Comparison Table","text":"Project Links Description Contrast with Enveloper python-dotenv PyPI \u00b7 GitHub Reads key-value pairs from a <code>.env</code> file and sets them as environment variables; compatible <code>load_dotenv</code> / <code>dotenv_values</code> API. File-based; Enveloper uses the OS keychain and optional cloud stores (AWS SSM, GitHub), with a dotenv-compatible SDK on top. python-decouple PyPI \u00b7 GitHub Keeps config out of code; reads from <code>.ini</code> or <code>.env</code> with type casting and defaults. File-based config; Enveloper stores secrets in the keychain and syncs to cloud, with import/export from dotenv/JSON/YAML. environs PyPI \u00b7 GitHub Parses and validates environment variables (including from <code>.env</code>) with type casting and validation. Focus on env parsing and validation; Enveloper focuses on where secrets live (keychain + cloud) and a CLI for sync. dynaconf PyPI \u00b7 GitHub Multi-source config (env, TOML/YAML/JSON, Vault, Redis) with profiles and validation. Broad config management; Enveloper is keychain-first with a .env-style workflow and push/pull to AWS SSM and GitHub. keyring PyPI \u00b7 GitHub Cross-platform Python API for the system keychain (macOS Keychain, Linux Secret Service, Windows Credential Locker). Low-level credential storage; Enveloper uses Keyring under the hood and adds project/domain, CLI, dotenv SDK, and cloud sync. python-dotenv-vault PyPI \u00b7 GitHub Loads encrypted <code>.env.vault</code> files (decrypt at runtime with a key); safe to commit the vault. Encrypted files in repo; Enveloper keeps secrets in the OS keychain and optionally pushes to SSM/GitHub, no committed secrets. Doppler (doppler-sdk) PyPI \u00b7 GitHub Hosted secrets manager; SDK and CLI inject config into env or fetch at runtime. SaaS-centric; Enveloper is local-first (keychain) with optional push/pull to AWS and GitHub, no required service. 1Password (onepassword-sdk) PyPI \u00b7 GitHub Official SDK to read secrets from 1Password vaults (e.g., with service accounts). 1Password as source of truth; Enveloper uses the OS keychain and optional cloud stores, with a dotenv-style API. pydantic-settings PyPI \u00b7 GitHub Pydantic-based settings from env vars and <code>.env</code> with validation and type hints. Settings from env/files with validation; Enveloper is about storing and syncing secrets (keychain + cloud) and exposing them via a dotenv-like API. SOPS GitHub \u00b7 getsops.io Encrypted editor for secrets in YAML, JSON, ENV, INI; values encrypted (e.g., AWS KMS, GCP KMS, age, PGP). Safe to commit encrypted files. CLI/binary (Go); encrypts files in repo. Enveloper uses the OS keychain and optional cloud push/pull, with no committed secret files. dotenv (Node.js) npm \u00b7 GitHub Loads <code>.env</code> into <code>process.env</code>; zero-dependency, TypeScript declarations. Node counterpart to python-dotenv. File-based; Enveloper uses the keychain and optional cloud stores with a dotenv-compatible Python API. dotenv-vault (Node.js) npm \u00b7 Dotenv Encrypted <code>.env.vault</code> for Node; decrypt at runtime with <code>DOTENV_KEY</code>. Sync and manage envs via Dotenv services. Encrypted files + optional cloud sync; Enveloper is keychain-first, local, with optional push/pull to AWS SSM and GitHub. dotenvx dotenvx.com \u00b7 GitHub Encrypted .env from the creator of dotenv; ECIES/AES-256, public key in repo and private key elsewhere. Drop-in for dotenv, run anywhere, multi-environment. Encrypted .env files in repo; Enveloper uses the OS keychain and optional push/pull to AWS SSM and GitHub, no committed secret files. varlock varlock.dev \u00b7 GitHub Schema-driven .env (<code>.env.schema</code> with validation, types, redaction). Drop-in for dotenv; plugins (e.g., 1Password); <code>varlock run</code> for any language. Validation and schema in files; Enveloper is keychain-first with a dotenv-style API and push/pull to a number of cloud-providers and GitHub. fnox GitHub \u00b7 fnox.jdx.dev Encrypted or remote secret manager (Rust). Secrets in git (age, KMS) or in cloud (AWS SM/PS, 1Password, Vault, etc.); <code>fnox.toml</code>, <code>fnox exec</code>, shell integration. Multi-provider config and encrypted-in-repo; Enveloper is keychain-first with a dotenv-style Python API and push/pull to cloud-providers and GitHub. latchkey GitHub CLI that injects API credentials into curl requests for known services (Slack, GitHub, etc.). Store via <code>latchkey auth set</code> or browser; agents use <code>latchkey curl</code>. Per-service auth for API calls; Enveloper is keychain-backed .env with push/pull to cloud-providers and GitHub and a dotenv-style SDK. envio GitHub Secure CLI for env vars (Rust). Encrypted profiles; load into terminal or run programs with them. Import/export. Encrypted local profiles; Enveloper uses OS keychain and optional cloud sync with dotenv-compatible API. enveil GitHub Hide .env from AI tools (Rust). <code>.env</code> holds <code>ev://</code> refs; real values in local encrypted store, injected at runtime. <code>enveil run -- npm start</code>. Local encrypted store, no plaintext on disk; Enveloper uses OS keychain and optional cloud push/pull."},{"location":"other-projects/#key-differences","title":"Key Differences","text":""},{"location":"other-projects/#enveloper-vs-python-dotenv","title":"Enveloper vs. python-dotenv","text":"Feature Enveloper python-dotenv Storage OS keychain + cloud <code>.env</code> files only Security Encrypted at rest Plain text Team sharing Push/pull to cloud Manual file sharing CLI Full-featured None SDK Compatible API Compatible API"},{"location":"other-projects/#enveloper-vs-dynaconf","title":"Enveloper vs. Dynaconf","text":"Feature Enveloper Dynaconf Primary focus Secrets management Config management Storage Keychain + cloud Multiple sources CLI Built-in None SDK dotenv-compatible Custom API Cloud sync Built-in Via plugins"},{"location":"other-projects/#enveloper-vs-sops","title":"Enveloper vs. SOPS","text":"Feature Enveloper SOPS Storage Keychain + cloud Encrypted files Commit to git No Yes (encrypted) CLI Full-featured File editor SDK Python None Cloud sync Built-in Manual"},{"location":"other-projects/#choosing-the-right-tool","title":"Choosing the Right Tool","text":""},{"location":"other-projects/#use-enveloper-when","title":"Use Enveloper When","text":"<ul> <li>You want to keep secrets out of version control</li> <li>You need cross-platform keychain support</li> <li>You want to sync secrets across team members</li> <li>You need a CLI for managing secrets</li> <li>You want dotenv-compatible SDK</li> </ul>"},{"location":"other-projects/#use-python-dotenv-when","title":"Use python-dotenv When","text":"<ul> <li>You're okay with <code>.env</code> files in your repo</li> <li>You need simple env var loading</li> <li>You don't need cross-platform keychain</li> </ul>"},{"location":"other-projects/#use-dynaconf-when","title":"Use Dynaconf When","text":"<ul> <li>You need multi-source config management</li> <li>You want validation and type casting</li> <li>You need profiles for different environments</li> </ul>"},{"location":"other-projects/#use-sops-when","title":"Use SOPS When","text":"<ul> <li>You want to commit encrypted secrets to git</li> <li>You need encryption with KMS</li> <li>You want a file-based workflow</li> </ul>"},{"location":"other-projects/#contributing","title":"Contributing","text":"<p>If you'd like to add your project to this list, please open an issue or submit a PR.</p>"},{"location":"project-config/","title":"Project Config File","text":""},{"location":"project-config/#overview","title":"Overview","text":"<p>The <code>.enveloper.toml</code> file in your project root allows you to define default values for project, domain, and service settings. This eliminates the need to pass these values on the command line every time.</p>"},{"location":"project-config/#file-location","title":"File Location","text":"<p>Place <code>.enveloper.toml</code> in your project root directory:</p> <pre><code>myproject/\n\u251c\u2500\u2500 .enveloper.toml\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 tests/\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"project-config/#basic-structure","title":"Basic Structure","text":"<pre><code>[enveloper]\nproject = \"myproject\"\nservice = \"local\"\n</code></pre>"},{"location":"project-config/#configuration-options","title":"Configuration Options","text":""},{"location":"project-config/#project-settings","title":"Project Settings","text":"<pre><code>[enveloper]\nproject = \"myproject\"\nservice = \"local\"\n</code></pre> Option Environment Variable Description <code>project</code> <code>ENVELOPER_PROJECT</code> Default project name <code>service</code> <code>ENVELOPER_SERVICE</code> Default service backend"},{"location":"project-config/#domain-specific-settings","title":"Domain-Specific Settings","text":"<pre><code>[enveloper.domains.aws]\nenv_file = \"/path/to/.env\"\nssm_prefix = \"/myproject/dev/\"\n</code></pre> Option Environment Variable Description <code>env_file</code> N/A Path to <code>.env</code> file for import/export <code>ssm_prefix</code> N/A Default prefix for AWS SSM"},{"location":"project-config/#service-specific-configuration","title":"Service-Specific Configuration","text":""},{"location":"project-config/#aws","title":"AWS","text":"<pre><code>[enveloper.aws]\nprofile = \"default\"\nregion = \"us-west-2\"\n</code></pre> Option Environment Variable Description <code>profile</code> <code>AWS_PROFILE</code> AWS profile name <code>region</code> <code>AWS_DEFAULT_REGION</code> AWS region"},{"location":"project-config/#vault","title":"Vault","text":"<pre><code>[enveloper.vault]\nurl = \"http://127.0.0.1:8200\"\nmount = \"secret\"\n</code></pre> Option Environment Variable Description <code>url</code> <code>VAULT_ADDR</code> Vault server URL <code>mount</code> N/A KV v2 mount point"},{"location":"project-config/#gcp","title":"GCP","text":"<pre><code>[enveloper.gcp]\nproject = \"my-gcp-project\"\n</code></pre> Option Environment Variable Description <code>project</code> <code>GOOGLE_CLOUD_PROJECT</code> GCP project ID"},{"location":"project-config/#azure","title":"Azure","text":"<pre><code>[enveloper.azure]\nvault_url = \"https://my-vault.vault.azure.net/\"\n</code></pre> Option Environment Variable Description <code>vault_url</code> <code>AZURE_VAULT_URL</code> Key Vault URL"},{"location":"project-config/#alibaba-cloud","title":"Alibaba Cloud","text":"<pre><code>[enveloper.aliyun]\nregion_id = \"cn-hangzhou\"\naccess_key_id = \"...\"\naccess_key_secret = \"...\"\n</code></pre> Option Environment Variable Description <code>region_id</code> <code>ALIBABA_CLOUD_REGION_ID</code> Region ID <code>access_key_id</code> <code>ALIBABA_CLOUD_ACCESS_KEY_ID</code> Access key ID <code>access_key_secret</code> <code>ALIBABA_CLOUD_ACCESS_KEY_SECRET</code> Access key secret"},{"location":"project-config/#complete-example","title":"Complete Example","text":"<pre><code>[enveloper]\nproject = \"myapp\"\nservice = \"local\"\n\n[enveloper.domains.aws]\nenv_file = \"/path/to/.env\"\nssm_prefix = \"/myapp/dev/\"\n\n[enveloper.aws]\nprofile = \"default\"\nregion = \"us-west-2\"\n\n[enveloper.vault]\nurl = \"http://127.0.0.1:8200\"\nmount = \"secret\"\n\n[enveloper.gcp]\nproject = \"my-gcp-project\"\n\n[enveloper.azure]\nvault_url = \"https://my-vault.vault.azure.net/\"\n\n[enveloper.aliyun]\nregion_id = \"cn-hangzhou\"\n</code></pre>"},{"location":"project-config/#priority-order","title":"Priority Order","text":"<p>Configuration values are resolved in this order (highest to lowest priority):</p> <ol> <li>CLI arguments (e.g., <code>--project myproject</code>)</li> <li>Environment variables (e.g., <code>ENVELOPER_PROJECT=myproject</code>)</li> <li>Config file (<code>.enveloper.toml</code>)</li> <li>Default values (e.g., <code>\"default\"</code>)</li> </ol>"},{"location":"project-config/#using-with-cli","title":"Using with CLI","text":"<p>With the config file in place:</p> <pre><code># These commands use defaults from .enveloper.toml\nenveloper list\nenveloper export\nenveloper import .env\n\n# CLI flags still override config\nenveloper list --project otherproject\n</code></pre>"},{"location":"project-config/#using-with-sdk","title":"Using with SDK","text":"<pre><code>from enveloper import load_dotenv, dotenv_values\n\n# Uses project/domain from .enveloper.toml\nload_dotenv()\nenv = dotenv_values()\n\n# Can still override\nload_dotenv(project=\"otherproject\")\n</code></pre>"},{"location":"project-config/#environment-variable-reference","title":"Environment Variable Reference","text":"Config Option Environment Variable Description <code>project</code> <code>ENVELOPER_PROJECT</code> Project name <code>domain</code> <code>ENVELOPER_DOMAIN</code> Domain name <code>service</code> <code>ENVELOPER_SERVICE</code> Service backend <code>version</code> <code>ENVELOPER_VERSION</code> Version <code>ssm_prefix</code> <code>ENVELOPER_SSM_PREFIX</code> SSM prefix for Lambda"},{"location":"project-config/#best-practices","title":"Best Practices","text":"<ol> <li>Commit to version control - Include <code>.enveloper.toml</code> in git</li> <li>Use consistent naming - Follow project conventions</li> <li>Document defaults - Add comments explaining choices</li> <li>Keep paths relative - Use relative paths when possible</li> <li>Test configuration - Verify with <code>enveloper service</code></li> </ol>"},{"location":"project-config/#troubleshooting","title":"Troubleshooting","text":""},{"location":"project-config/#config-not-found","title":"Config Not Found","text":"<pre><code># Ensure file is in project root\nls -la .enveloper.toml\n\n# Check file permissions\ncat .enveloper.toml\n</code></pre>"},{"location":"project-config/#invalid-toml","title":"Invalid TOML","text":"<pre><code># Validate TOML syntax\npython -c \"import tomllib; tomllib.load(open('.enveloper.toml', 'rb'))\"\n</code></pre>"},{"location":"project-config/#service-not-recognized","title":"Service Not Recognized","text":"<p>```bash</p>"},{"location":"project-config/#check-available-services","title":"Check available services","text":"<p>enveloper service</p>"},{"location":"project-config/#verify-service-name-in-config","title":"Verify service name in config","text":"<p>cat .enveloper.toml</p>"},{"location":"publishing/","title":"Publishing to PyPI","text":""},{"location":"publishing/#overview","title":"Overview","text":"<p>This document covers the process of publishing <code>enveloper</code> to PyPI and TestPyPI.</p>"},{"location":"publishing/#prerequisites","title":"Prerequisites","text":"<ul> <li><code>twine</code> installed: <code>pip install twine</code></li> <li>PyPI account with 2FA enabled</li> <li>API token for PyPI</li> <li>API token for TestPyPI (optional)</li> </ul>"},{"location":"publishing/#configuration","title":"Configuration","text":""},{"location":"publishing/#create-pypirc","title":"Create <code>~/.pypirc</code>","text":"<pre><code>[pypi]\nusername = __token__\npassword = pypi-...\n\n[testpypi]\nrepository = https://test.pypi.org/legacy/\nusername = __token__\npassword = pypi-...\n</code></pre>"},{"location":"publishing/#get-api-tokens","title":"Get API Tokens","text":"<ul> <li>PyPI</li> <li>TestPyPI</li> </ul>"},{"location":"publishing/#using-make","title":"Using Make","text":""},{"location":"publishing/#publish-to-testpypi","title":"Publish to TestPyPI","text":"<pre><code>make publish-test\n</code></pre> <p>This command: 1. Bumps the patch version 2. Builds the package 3. Uploads to TestPyPI</p>"},{"location":"publishing/#publish-to-pypi","title":"Publish to PyPI","text":"<pre><code>make publish\n</code></pre> <p>This command: 1. Builds the package 2. Uploads to PyPI</p>"},{"location":"publishing/#manual-publishing","title":"Manual Publishing","text":""},{"location":"publishing/#build-the-package","title":"Build the Package","text":"<pre><code>uv build\n</code></pre>"},{"location":"publishing/#upload-to-testpypi","title":"Upload to TestPyPI","text":"<pre><code>uv run twine upload -r testpypi dist/*\n</code></pre>"},{"location":"publishing/#upload-to-pypi","title":"Upload to PyPI","text":"<pre><code>uv run twine upload dist/*\n</code></pre>"},{"location":"publishing/#github-actions-optional","title":"GitHub Actions (Optional)","text":"<p>The repo includes a workflow that publishes only on version tags or when you run it manually.</p>"},{"location":"publishing/#setup","title":"Setup","text":"<ol> <li>Configure trusted publishing on PyPI and TestPyPI</li> <li>Create GitHub Environments <code>pypi</code> and <code>testpypi</code></li> <li>See the comments in <code>.github/workflows/publish.yml</code></li> </ol>"},{"location":"publishing/#usage","title":"Usage","text":"<ol> <li>Push a tag like <code>v0.1.9</code> (matching <code>version</code> in <code>pyproject.toml</code>)</li> <li>Or use Actions \u2192 Publish to PyPI \u2192 Run workflow and choose PyPI or TestPyPI</li> </ol>"},{"location":"publishing/#versioning","title":"Versioning","text":"<p>Versions are managed in <code>pyproject.toml</code>:</p> <pre><code>[project]\nversion = \"0.1.9\"\n</code></pre> <p>The <code>make publish-test</code> command automatically bumps the patch version.</p>"},{"location":"publishing/#verification","title":"Verification","text":""},{"location":"publishing/#testpypi","title":"TestPyPI","text":"<pre><code># Install from TestPyPI\npip install -i https://test.pypi.org/simple/ enveloper\n\n# Verify installation\nenveloper --version\n</code></pre>"},{"location":"publishing/#pypi","title":"PyPI","text":"<pre><code># Install from PyPI\npip install enveloper\n\n# Verify installation\nenveloper --version\n</code></pre>"},{"location":"publishing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"publishing/#authentication-failed","title":"Authentication Failed","text":"<pre><code># Check ~/.pypirc\ncat ~/.pypirc\n\n# Verify token is valid\ncurl -u __token__:pypi-... https://upload.pypi.org/legacy/\n</code></pre>"},{"location":"publishing/#file-already-exists","title":"File Already Exists","text":"<pre><code># TestPyPI allows overwriting, PyPI does not\n# For PyPI, bump the version first\n</code></pre>"},{"location":"publishing/#build-errors","title":"Build Errors","text":"<pre><code># Clean build directory\nrm -rf dist/ build/ *.egg-info\n\n# Rebuild\nuv build\n</code></pre>"},{"location":"publishing/#upload-errors","title":"Upload Errors","text":"<p>```bash</p>"},{"location":"publishing/#check-file-permissions","title":"Check file permissions","text":"<p>ls -la dist/</p>"},{"location":"publishing/#verify-file-integrity","title":"Verify file integrity","text":"<p>twine check dist/*</p>"},{"location":"sdk/","title":"SDK","text":""},{"location":"sdk/#overview","title":"Overview","text":"<p>The <code>enveloper</code> SDK provides a Python API for loading secrets from the local keychain or cloud stores. It's compatible with <code>python-dotenv</code>'s <code>load_dotenv</code> and <code>dotenv_values</code> functions.</p> <p>You can load from any service (local keychain, file, or cloud stores such as AWS SSM, GCP Secret Manager, Azure Key Vault, Vault, Alibaba) and filter by domain, project, and version. Only secrets for that scope are returned (e.g. <code>version=\"2.0.0\"</code> loads only keys under that version).</p>"},{"location":"sdk/#installation","title":"Installation","text":"<pre><code># CLI only\npip install enveloper\n\n# CLI + SDK\npip install enveloper[sdk]\n\n# With AWS support\npip install enveloper[aws]\n\n# All extras\npip install enveloper[all]\n</code></pre>"},{"location":"sdk/#basic-usage","title":"Basic Usage","text":""},{"location":"sdk/#load_dotenv","title":"load_dotenv","text":"<p>Injects all secrets into the current session's environment variables.</p> <pre><code>from enveloper import load_dotenv\n\n# Load from local keychain (default)\nload_dotenv()\n\n# Load from specific project/domain\nload_dotenv(project=\"myapp\", domain=\"prod\")\n\n# Load from file\nload_dotenv(service=\"file\", path=\".env.local\")\n\n# Load from AWS SSM\nload_dotenv(service=\"aws\", domain=\"prod\")\n\n# Load from GCP Secret Manager\nload_dotenv(service=\"gcp\", domain=\"prod\")\n\n# Load from Azure Key Vault\nload_dotenv(service=\"azure\", domain=\"prod\")\n\n# Load from Alibaba Cloud KMS\nload_dotenv(service=\"aliyun\", domain=\"prod\")\n\n# Load from HashiCorp Vault\nload_dotenv(service=\"vault\", domain=\"prod\")\n\n# Don't override existing env vars\nload_dotenv(override=False)\n</code></pre>"},{"location":"sdk/#dotenv_values","title":"dotenv_values","text":"<p>Returns a dictionary of secrets without modifying the environment.</p> <pre><code>from enveloper import dotenv_values\n\n# Get secrets from keychain\nenv = dotenv_values(project=\"myapp\", domain=\"prod\")\n\n# Get secrets from file\nenv = dotenv_values(service=\"file\", path=\".env\")\n\n# Get secrets from AWS SSM\nenv = dotenv_values(service=\"aws\", domain=\"prod\")\n\n# Get secrets from GCP Secret Manager\nenv = dotenv_values(service=\"gcp\", domain=\"prod\")\n\n# Get secrets from Azure Key Vault\nenv = dotenv_values(service=\"azure\", domain=\"prod\")\n\n# Get secrets from Alibaba Cloud KMS\nenv = dotenv_values(service=\"aliyun\", domain=\"prod\")\n\n# Get secrets from HashiCorp Vault\nenv = dotenv_values(service=\"vault\", domain=\"prod\")\n\n# Access values\ndb_url = env.get(\"DATABASE_URL\")\napi_key = env.get(\"API_KEY\")\n</code></pre>"},{"location":"sdk/#service-parameter","title":"Service Parameter","text":"Service Description Install Extra Read/Write <code>local</code> (default) OS keychain None Read/Write <code>file</code> Plain <code>.env</code> file None Read/Write <code>aws</code> AWS SSM Parameter Store <code>enveloper[aws]</code> Read/Write <code>github</code> GitHub Actions secrets Built-in Write-only <code>vault</code> HashiCorp Vault KV v2 <code>enveloper[vault]</code> Read/Write <code>gcp</code> Google Cloud Secret Manager <code>enveloper[gcp]</code> Read/Write <code>azure</code> Azure Key Vault <code>enveloper[azure]</code> Read/Write <code>aliyun</code> Alibaba Cloud KMS <code>enveloper[alibaba]</code> Read/Write"},{"location":"sdk/#cloud-service-access","title":"Cloud Service Access","text":"<p>All cloud services support readonly access for reading secrets:</p> <pre><code>from enveloper import dotenv_values\n\n# Read-only access to AWS SSM\nenv = dotenv_values(service=\"aws\", domain=\"prod\")\n\n# Read-only access to GCP Secret Manager\nenv = dotenv_values(service=\"gcp\", domain=\"prod\")\n\n# Read-only access to Azure Key Vault\nenv = dotenv_values(service=\"azure\", domain=\"prod\")\n\n# Read-only access to Alibaba Cloud KMS\nenv = dotenv_values(service=\"aliyun\", domain=\"prod\")\n</code></pre> <p>For write operations, use <code>load_dotenv()</code> with <code>override=True</code> or use the CLI commands: - <code>enveloper push</code> - Push secrets to cloud - <code>enveloper pull</code> - Pull secrets from cloud</p>"},{"location":"sdk/#versioning","title":"Versioning","text":"<p>The SDK supports reading secrets from specific versions. Pass version (semver format) to limit results to that version:</p> <pre><code># Load specific version\nenv = dotenv_values(project=\"myapp\", domain=\"prod\", service=\"aws\", version=\"1.0.0\")\n\n# Default version when omitted is 1.0.0 (or ENVELOPER_VERSION)\nenv = dotenv_values(project=\"myapp\", domain=\"prod\")\n</code></pre> <p>When version is not specified, the default is <code>1.0.0</code> (or <code>ENVELOPER_VERSION</code>). Cloud stores and the keychain store keys under a version segment; only keys matching the requested version are returned.</p>"},{"location":"sdk/#key-decoding","title":"Key Decoding","text":"<p>The SDK automatically decodes keys from the store format to environment variable names. Composite keys (prefix, domain, project, version, name) are stripped down to the simple name:</p> <pre><code># Store key (format depends on store; e.g. prefix/domain/project/version/DATABASE_URL)\n# SDK returns: {\"DATABASE_URL\": \"value\"}\nenv = dotenv_values(project=\"myapp\", domain=\"prod\")\n</code></pre> <p>The store's <code>key_to_export_name</code> (and the SDK's use of it) strips prefix, domain, project, and version from keys, leaving only the environment variable name. Prefix and separators are defined per store (see STORES.md).</p>"},{"location":"sdk/#configuration","title":"Configuration","text":""},{"location":"sdk/#project-and-domain","title":"Project and Domain","text":"<pre><code># Using parameters\nload_dotenv(project=\"myapp\", domain=\"prod\")\n\n# Using environment variables\nimport os\nos.environ[\"ENVELOPER_PROJECT\"] = \"myapp\"\nos.environ[\"ENVELOPER_DOMAIN\"] = \"prod\"\nload_dotenv()\n\n# Using config file (.enveloper.toml)\n# [enveloper]\n# project = \"myapp\"\n# domain = \"prod\"\n</code></pre>"},{"location":"sdk/#version","title":"Version","text":"<pre><code># Load specific version\nload_dotenv(version=\"1.0.0\")\n\n# Get specific version\nenv = dotenv_values(version=\"2.0.0\")\n</code></pre>"},{"location":"sdk/#path-for-file-service","title":"Path (for file service)","text":"<pre><code># Load from specific file\nload_dotenv(service=\"file\", path=\".env.local\")\n\n# Get from specific file\nenv = dotenv_values(service=\"file\", path=\".env.production\")\n</code></pre>"},{"location":"sdk/#aws-lambda-integration","title":"AWS Lambda Integration","text":""},{"location":"sdk/#using-ssm-in-lambda","title":"Using SSM in Lambda","text":"<pre><code>import os\nfrom enveloper import load_dotenv\n\n# Set SSM prefix in Lambda config\nos.environ[\"ENVELOPER_SSM_PREFIX\"] = \"/myapp/prod/\"\n\n# Load from SSM (first), then keychain, then env vars\nload_dotenv()\n</code></pre>"},{"location":"sdk/#using-config-file-in-lambda","title":"Using Config File in Lambda","text":"<p>Place <code>.enveloper.toml</code> in your Lambda root:</p> <pre><code>[enveloper]\nproject = \"myapp\"\ndomain = \"prod\"\nservice = \"aws\"\n</code></pre>"},{"location":"sdk/#advanced-usage","title":"Advanced Usage","text":""},{"location":"sdk/#conditional-loading","title":"Conditional Loading","text":"<pre><code>from enveloper import load_dotenv, dotenv_values\nimport os\n\n# Check if running in Lambda\nif os.environ.get(\"AWS_LAMBDA_FUNCTION_NAME\"):\n    load_dotenv(service=\"aws\")\nelse:\n    load_dotenv(service=\"local\")\n</code></pre>"},{"location":"sdk/#multiple-sources","title":"Multiple Sources","text":"<pre><code>from enveloper import load_dotenv, dotenv_values\n\n# Load from keychain first\nload_dotenv(service=\"local\")\n\n# Override with file if exists\nif os.path.exists(\".env.local\"):\n    load_dotenv(service=\"file\", path=\".env.local\", override=True)\n</code></pre>"},{"location":"sdk/#error-handling","title":"Error Handling","text":"<pre><code>from enveloper import dotenv_values\nimport os\n\ntry:\n    env = dotenv_values(project=\"myapp\", domain=\"prod\")\n    db_url = env.get(\"DATABASE_URL\")\n    if not db_url:\n        raise ValueError(\"DATABASE_URL not found\")\nexcept Exception as e:\n    print(f\"Error loading secrets: {e}\")\n</code></pre>"},{"location":"sdk/#compatibility-with-python-dotenv","title":"Compatibility with python-dotenv","text":"<p>The SDK is designed to be compatible with <code>python-dotenv</code>:</p> python-dotenv enveloper <code>load_dotenv()</code> <code>load_dotenv()</code> <code>dotenv_values()</code> <code>dotenv_values()</code> <code>find_dotenv()</code> N/A (uses keychain) <code>get_key()</code> N/A (use <code>dotenv_values</code>)"},{"location":"sdk/#migration-guide","title":"Migration Guide","text":"<p>Before (python-dotenv): <pre><code>from dotenv import load_dotenv, dotenv_values\n\nload_dotenv()\ndb_url = os.environ.get(\"DATABASE_URL\")\n</code></pre></p> <p>After (enveloper): <pre><code>from enveloper import load_dotenv, dotenv_values\n\nload_dotenv()\ndb_url = os.environ.get(\"DATABASE_URL\")\n</code></pre></p>"},{"location":"sdk/#best-practices","title":"Best Practices","text":"<ol> <li>Use local keychain for development - Keep credentials secure</li> <li>Use cloud stores for production - Enable team sharing</li> <li>Check for missing secrets - Validate required values</li> <li>Use versioning - Maintain multiple versions for rollback</li> <li>Handle errors gracefully - Provide fallback values</li> </ol>"},{"location":"sdk/#troubleshooting","title":"Troubleshooting","text":""},{"location":"sdk/#secret-not-found","title":"Secret Not Found","text":"<pre><code># Check if secret exists\nenv = dotenv_values()\nif \"MY_KEY\" not in env:\n    print(\"MY_KEY not found in secrets\")\n</code></pre>"},{"location":"sdk/#service-not-available","title":"Service Not Available","text":"<pre><code># Check if service is installed\ntry:\n    load_dotenv(service=\"vault\")\nexcept ImportError:\n    print(\"Vault support not installed. Install with: pip install enveloper[vault]\")\n</code></pre>"},{"location":"sdk/#permission-errors","title":"Permission Errors","text":"<p>```python</p>"},{"location":"sdk/#check-credentials-for-cloud-services","title":"Check credentials for cloud services","text":""},{"location":"sdk/#aws-aws_access_key_id-aws_secret_access_key","title":"AWS: AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY","text":""},{"location":"sdk/#gcp-google_cloud_project-adc","title":"GCP: GOOGLE_CLOUD_PROJECT, ADC","text":""},{"location":"sdk/#azure-azure_vault_url-defaultazurecredential","title":"Azure: AZURE_VAULT_URL, DefaultAzureCredential","text":""},{"location":"security/","title":"Security","text":""},{"location":"security/#overview","title":"Overview","text":"<p><code>enveloper</code> prioritizes security by storing secrets in encrypted, vendor-provided storage systems. This document outlines the security mechanisms and best practices.</p>"},{"location":"security/#local-keychain","title":"Local Keychain","text":""},{"location":"security/#macos-keychain","title":"macOS Keychain","text":"<ul> <li>Secrets stored in encrypted keychain database</li> <li>Protected by user login password</li> <li>Access controlled via Keychain Access app</li> <li>No plaintext secrets on disk</li> </ul>"},{"location":"security/#linux-secret-service","title":"Linux Secret Service","text":"<ul> <li>Uses <code>libsecret</code> for secure storage</li> <li>Integrates with GNOME Keyring, KWallet, and other secret stores</li> <li>Access controlled via system authentication</li> </ul>"},{"location":"security/#windows-credential-locker","title":"Windows Credential Locker","text":"<ul> <li>Uses Windows Data Protection API (DPAPI)</li> <li>Secrets encrypted with user's login credentials</li> <li>Protected by Windows security subsystem</li> </ul>"},{"location":"security/#cloud-storage-security","title":"Cloud Storage Security","text":""},{"location":"security/#aws-ssm-parameter-store","title":"AWS SSM Parameter Store","text":"<ul> <li>Secrets encrypted with AWS KMS</li> <li>Fine-grained IAM access control</li> <li>Audit logging via CloudTrail</li> <li>Version history for rollback</li> </ul>"},{"location":"security/#google-cloud-secret-manager","title":"Google Cloud Secret Manager","text":"<ul> <li>Secrets encrypted with Google Cloud KMS</li> <li>IAM-based access control</li> <li>Audit logging via Cloud Logging</li> <li>Automatic encryption at rest</li> </ul>"},{"location":"security/#azure-key-vault","title":"Azure Key Vault","text":"<ul> <li>Secrets encrypted with Key Vault encryption</li> <li>Access controlled via Azure RBAC</li> <li>Audit logging via Azure Monitor</li> <li>Soft-delete and purge protection</li> </ul>"},{"location":"security/#alibaba-cloud-kms","title":"Alibaba Cloud KMS","text":"<ul> <li>Secrets encrypted with KMS</li> <li>RAM-based access control</li> <li>Audit logging via ActionTrail</li> <li>Encryption with customer master keys</li> </ul>"},{"location":"security/#hashicorp-vault","title":"HashiCorp Vault","text":"<ul> <li>Secrets encrypted with configured cipher</li> <li>Token-based or certificate authentication</li> <li>Audit logging for all operations</li> <li>Dynamic secrets support</li> </ul>"},{"location":"security/#github-actions-secrets","title":"GitHub Actions Secrets","text":"<ul> <li>Encrypted at rest</li> <li>Access controlled via repository permissions</li> <li>Environment protection rules</li> <li>Audit logging via GitHub audit log</li> </ul>"},{"location":"security/#access-control","title":"Access Control","text":""},{"location":"security/#iam-policies","title":"IAM Policies","text":"<p>Each cloud provider offers fine-grained access control:</p> <p>AWS SSM: <pre><code>{\n  \"Effect\": \"Allow\",\n  \"Action\": [\n    \"ssm:GetParameter\",\n    \"ssm:GetParameters\"\n  ],\n  \"Resource\": \"arn:aws:ssm:*:*:parameter/envr/*\"\n}\n</code></pre></p> <p>GCP Secret Manager: <pre><code>{\n  \"role\": \"roles/secretmanager.secretAccessor\",\n  \"members\": [\"user:developer@example.com\"]\n}\n</code></pre></p> <p>Azure Key Vault: <pre><code>{\n  \"permissions\": {\n    \"secrets\": [\"get\", \"list\"]\n  }\n}\n</code></pre></p>"},{"location":"security/#least-privilege","title":"Least Privilege","text":"<ul> <li>Use separate service accounts for different environments</li> <li>Grant only necessary permissions</li> <li>Rotate credentials regularly</li> </ul>"},{"location":"security/#encryption","title":"Encryption","text":""},{"location":"security/#at-rest","title":"At Rest","text":"<ul> <li>Local keychain: OS-native encryption</li> <li>Cloud stores: KMS-based encryption</li> <li>File storage: Plain text (not recommended for production)</li> </ul>"},{"location":"security/#in-transit","title":"In Transit","text":"<ul> <li>All cloud stores use HTTPS/TLS</li> <li>Local keychain: No network transmission</li> <li>File storage: No network transmission</li> </ul>"},{"location":"security/#best-practices","title":"Best Practices","text":"<ol> <li>Use Local Keychain for Development - Keep secrets local to your machine</li> <li>Use Cloud Stores for Production - Enable audit logging and access control</li> <li>Rotate Credentials Regularly - Update secrets periodically</li> <li>Use Environment-Specific Secrets - Separate dev, staging, prod</li> <li>Audit Access - Monitor who accessed secrets and when</li> <li>Use IAM Policies - Grant least privilege necessary</li> <li>Enable Audit Logging - Track all secret access</li> <li>Use Versioning - Keep track of secret changes</li> </ol>"},{"location":"security/#compliance","title":"Compliance","text":""},{"location":"security/#soc-2","title":"SOC 2","text":"<ul> <li>AWS SSM, GCP Secret Manager, Azure Key Vault are SOC 2 compliant</li> <li>Audit logs available for compliance reporting</li> </ul>"},{"location":"security/#hipaa","title":"HIPAA","text":"<ul> <li>AWS SSM, GCP Secret Manager, Azure Key Vault are HIPAA compliant</li> <li>Business Associate Agreements available</li> </ul>"},{"location":"security/#pci-dss","title":"PCI DSS","text":"<ul> <li>Cloud stores support PCI DSS compliance</li> <li>Encryption and access control features</li> </ul>"},{"location":"security/#security-features","title":"Security Features","text":"Feature Local AWS GCP Azure Alibaba Vault GitHub Encryption at rest \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 Encryption in transit N/A \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 Audit logging N/A \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 Access control \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 Versioning \u2713 \u2713 \u2713 \u2713 \u2713 \u2713 N/A Soft-delete N/A \u2713 \u2713 \u2713 \u2713 N/A N/A"},{"location":"service-backend/","title":"Service Backend","text":""},{"location":"service-backend/#overview","title":"Overview","text":"<p>The service backend determines where secrets are stored and retrieved from. <code>enveloper</code> supports multiple backends including local keychain, file storage, and various cloud services.</p>"},{"location":"service-backend/#available-services","title":"Available Services","text":"Service Store Class Read/Write Description <code>local</code> <code>KeychainStore</code> Read/Write OS keychain (macOS, Linux, Windows) <code>file</code> <code>FileStore</code> Read/Write Plain <code>.env</code> file <code>aws</code> <code>AWSSSMStore</code> Push/Pull AWS SSM Parameter Store <code>github</code> <code>GitHubStore</code> Push only GitHub Actions secrets <code>vault</code> <code>VaultStore</code> Push/Pull HashiCorp Vault KV v2 <code>gcp</code> <code>GCPSMStore</code> Push/Pull Google Cloud Secret Manager <code>azure</code> <code>AzureKVStore</code> Push/Pull Azure Key Vault <code>aliyun</code> <code>AliyunSMStore</code> Push/Pull Alibaba Cloud KMS"},{"location":"service-backend/#service-selection","title":"Service Selection","text":""},{"location":"service-backend/#cli","title":"CLI","text":"<pre><code># Use local keychain (default)\nenveloper list --service local\n\n# Use file storage\nenveloper list --service file --path .env\n\n# Use AWS SSM\nenveloper list --service aws\n\n# Use GitHub\nenveloper list --service github\n</code></pre>"},{"location":"service-backend/#environment-variable","title":"Environment Variable","text":"<pre><code>export ENVELOPER_SERVICE=aws\nenveloper list  # Uses AWS\n</code></pre>"},{"location":"service-backend/#config-file","title":"Config File","text":"<pre><code>[enveloper]\nservice = \"aws\"\n</code></pre>"},{"location":"service-backend/#service-specific-configuration","title":"Service-Specific Configuration","text":""},{"location":"service-backend/#local-keychain","title":"Local Keychain","text":"<p>No additional configuration required. Uses OS-native keychain storage.</p>"},{"location":"service-backend/#file-service","title":"File Service","text":"<pre><code># Specify file path\nenveloper list --service file --path .env.local\n\n# Export to file\nenveloper export --service file --path .env.backup\n</code></pre>"},{"location":"service-backend/#aws-ssm","title":"AWS SSM","text":"<pre><code>[enveloper.aws]\nprofile = \"default\"\nregion = \"us-west-2\"\n</code></pre> <pre><code># Push to SSM\nenveloper push --service aws -d prod --prefix /myapp/prod/\n\n# Pull from SSM\nenveloper pull --service aws -d prod --prefix /myapp/prod/\n</code></pre>"},{"location":"service-backend/#github","title":"GitHub","text":"<pre><code># Push to GitHub Actions\nenveloper push --service github -d prod --repo owner/repo\n</code></pre>"},{"location":"service-backend/#hashicorp-vault","title":"HashiCorp Vault","text":"<pre><code>[enveloper.vault]\nurl = \"http://127.0.0.1:8200\"\nmount = \"secret\"\n</code></pre> <pre><code># Push to Vault\nenveloper push --service vault -d prod --prefix myapp/prod\n\n# Pull from Vault\nenveloper pull --service vault -d prod --prefix myapp/prod\n</code></pre>"},{"location":"service-backend/#google-cloud","title":"Google Cloud","text":"<pre><code>[enveloper.gcp]\nproject = \"my-gcp-project\"\n</code></pre> <pre><code># Push to Secret Manager\nenveloper push --service gcp -d prod --prefix myapp-prod\n\n# Pull from Secret Manager\nenveloper pull --service gcp -d prod --prefix myapp-prod\n</code></pre>"},{"location":"service-backend/#azure-key-vault","title":"Azure Key Vault","text":"<pre><code>[enveloper.azure]\nvault_url = \"https://my-vault.vault.azure.net/\"\n</code></pre> <pre><code># Push to Key Vault\nenveloper push --service azure -d prod --prefix myapp-prod\n\n# Pull from Key Vault\nenveloper pull --service azure -d prod --prefix myapp-prod\n</code></pre>"},{"location":"service-backend/#alibaba-cloud","title":"Alibaba Cloud","text":"<pre><code>[enveloper.aliyun]\nregion_id = \"cn-hangzhou\"\naccess_key_id = \"...\"\naccess_key_secret = \"...\"\n</code></pre> <pre><code># Push to KMS\nenveloper push --service aliyun -d prod --prefix myapp-prod\n\n# Pull from KMS\nenveloper pull --service aliyun -d prod --prefix myapp-prod\n</code></pre>"},{"location":"service-backend/#service-commands","title":"Service Commands","text":""},{"location":"service-backend/#list-services","title":"List Services","text":"<pre><code># List all available services\nenveloper service\n\n# List store plugins\nenveloper stores\n</code></pre>"},{"location":"service-backend/#pushpull","title":"Push/Pull","text":"<pre><code># Push from local to cloud\nenveloper push --service aws -d prod\n\n# Pull from cloud to local\nenveloper pull --service aws -d prod\n\n# Push from file to cloud\nenveloper push --service aws --from file --path .env\n\n# Pull from cloud to file\nenveloper pull --service aws --to file --path .env\n</code></pre>"},{"location":"service-backend/#clear-service","title":"Clear Service","text":"<pre><code># Clear local keychain\nenveloper clear --service local -d prod\n\n# Clear file\nenveloper clear --service file --path .env\n\n# Clear cloud store\nenveloper clear --service aws -d prod\n</code></pre>"},{"location":"service-backend/#service-backend-selection-matrix","title":"Service Backend Selection Matrix","text":"Use Case Recommended Service Local development <code>local</code> (keychain) CI/CD with .env files <code>file</code> AWS infrastructure <code>aws</code> (SSM) GitHub Actions <code>github</code> Multi-cloud <code>vault</code> GCP infrastructure <code>gcp</code> Azure infrastructure <code>azure</code> Alibaba infrastructure <code>aliyun</code>"},{"location":"service-backend/#service-priority","title":"Service Priority","text":"<p>When no service is specified, <code>enveloper</code> uses <code>local</code> as the default. You can change this default:</p> <ol> <li> <p>Config file (<code>.enveloper.toml</code>):    <pre><code>[enveloper]\nservice = \"aws\"\n</code></pre></p> </li> <li> <p>Environment variable:    <pre><code>export ENVELOPER_SERVICE=aws\n</code></pre></p> </li> <li> <p>CLI argument (highest priority):    <pre><code>enveloper list --service aws\n</code></pre></p> </li> </ol>"},{"location":"service-backend/#troubleshooting","title":"Troubleshooting","text":""},{"location":"service-backend/#service-not-found","title":"Service Not Found","text":"<pre><code># Check available services\nenveloper service\n\n# Verify service name\nenveloper --service aws list\n</code></pre>"},{"location":"service-backend/#permission-denied","title":"Permission Denied","text":"<p>Check service-specific credentials: - AWS: <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code> - GCP: <code>GOOGLE_CLOUD_PROJECT</code>, Application Default Credentials - Azure: <code>AZURE_VAULT_URL</code>, DefaultAzureCredential - Vault: <code>VAULT_ADDR</code>, <code>VAULT_TOKEN</code></p>"},{"location":"service-backend/#connection-issues","title":"Connection Issues","text":"<p>```bash</p>"},{"location":"service-backend/#test-connection","title":"Test connection","text":"<p>enveloper service</p>"},{"location":"service-backend/#check-network-connectivity","title":"Check network connectivity","text":"<p>ping"},{"location":"step-by-step-tutorial/","title":"Step-by-Step Tutorial","text":"<p>This tutorial walks you through enveloper from a simple local <code>.env</code> file to keychain storage, desktop builds, and AWS SSM. You can follow along on macOS, Linux, or Windows.</p>"},{"location":"step-by-step-tutorial/#1-create-a-sample-env-file","title":"1. Create a sample .env file","text":"<p>Create a file named <code>sample.env</code> in your project directory with some example variables:</p> <pre><code># sample.env\nTWILIO_API_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nTWILIO_AUTH_TOKEN=\"my secret token\"\nMESSAGING_PROVIDER=twilio\n\n# Quoted and special values\nSINGLE_QUOTED='hello world'\nEQUALS_IN_VALUE=postgres://user:pass@host/db?opt=1\n</code></pre> <p>(Screenshots: terminal showing the file can be added here.)</p>"},{"location":"step-by-step-tutorial/#2-install-the-cli","title":"2. Install the CLI","text":"<p>Install enveloper with pip (or poetry/uv):</p> <pre><code>pip install enveloper\n</code></pre> <p>Verify:</p> <pre><code>enveloper --version\n</code></pre>"},{"location":"step-by-step-tutorial/#3-import-into-keychain","title":"3. Import into keychain","text":"<p>Import the contents of <code>sample.env</code> into your OS keychain. Use a domain to scope the secrets (e.g. <code>tutorial</code> or <code>prod</code>):</p> <pre><code>enveloper import sample.env --domain tutorial\n</code></pre> <p>You should see: <code>Imported N variable(s) from sample.env</code>.</p> <p>(Screenshots: Mac Keychain Access or equivalent showing stored entries can be added here.)</p>"},{"location":"step-by-step-tutorial/#4-list-the-values","title":"4. List the values","text":"<p>List all secrets stored for that domain:</p> <pre><code>enveloper list --domain tutorial\n</code></pre> <p>The table shows key names and masked values.</p>"},{"location":"step-by-step-tutorial/#5-get-a-single-value","title":"5. Get a single value","text":"<p>Retrieve one secret by name:</p> <pre><code>enveloper get TWILIO_API_SID --domain tutorial\n</code></pre> <p>The value is printed to stdout.</p>"},{"location":"step-by-step-tutorial/#6-modify-a-single-value-then-verify","title":"6. Modify a single value (then verify)","text":"<p>Set a key to a new value:</p> <pre><code>enveloper set TWILIO_AUTH_TOKEN \"updated secret token\" --domain tutorial\n</code></pre> <p>Verify:</p> <pre><code>enveloper get TWILIO_AUTH_TOKEN --domain tutorial\n</code></pre> <p>You should see <code>updated secret token</code>.</p>"},{"location":"step-by-step-tutorial/#7-delete-a-single-value-then-verify-its-gone","title":"7. Delete a single value (then verify it's gone)","text":"<p>Remove one key:</p> <pre><code>enveloper delete MESSAGING_PROVIDER --domain tutorial\n</code></pre> <p>Verify it is gone:</p> <pre><code>enveloper get MESSAGING_PROVIDER --domain tutorial\n</code></pre> <p>You should see an error that the key was not found, and it will no longer appear in <code>enveloper list --domain tutorial</code>.</p>"},{"location":"step-by-step-tutorial/#8-clear-all-entries-then-verify","title":"8. Clear all entries, then verify","text":"<p>Remove every secret for the current domain:</p> <pre><code>enveloper clear --domain tutorial\n</code></pre> <p>Confirm when prompted (or use <code>--quiet</code> / <code>-q</code> to skip confirmation).</p> <p>Verify:</p> <pre><code>enveloper list --domain tutorial\n</code></pre> <p>The list should be empty (or show no secrets).</p>"},{"location":"step-by-step-tutorial/#9-re-import-modify-add-one-manually-export-to-file","title":"9. Re-import, modify, add one manually, export to file","text":"<p>Re-import from <code>sample.env</code>:</p> <pre><code>enveloper import sample.env --domain tutorial\n</code></pre> <p>Modify one value:</p> <pre><code>enveloper set TWILIO_AUTH_TOKEN \"modified in keychain\" --domain tutorial\n</code></pre> <p>Add a new key manually:</p> <pre><code>enveloper set EXTRA_KEY \"added by hand\" --domain tutorial\n</code></pre> <p>Export everything to a new file:</p> <pre><code>enveloper export --domain tutorial --output newsample.env\n</code></pre> <p>List the contents of the file to verify:</p> <pre><code>cat newsample.env\n</code></pre> <p>You should see the updated and new values (e.g. <code>TWILIO_AUTH_TOKEN=modified in keychain</code>, <code>EXTRA_KEY=added by hand</code>).</p>"},{"location":"step-by-step-tutorial/#10-using-it-as-part-of-a-desktop-build-makefile","title":"10. Using it as part of a desktop build (Makefile)","text":"<p>Load secrets into the environment before a build and unset them after.</p> <p>Export for the build:</p> <pre><code># Load secrets into the shell for this make run\nexport ENVELOPER_DOMAIN := tutorial\ninclude .env.export\n\n.env.export:\n    @enveloper export -d tutorial --format dotenv &gt; .env.export\n\nbuild: .env.export\n    @echo \"Building with secrets in environment...\"\n    @env | grep -E '^(TWILIO_|MESSAGING_)' || true\n\nclean:\n    rm -f .env.export\n</code></pre> <p>Or use the eval pattern so variables are set only for the commands that need them:</p> <pre><code>DOMAIN ?= tutorial\n\nbuild:\n    eval \"$$(enveloper export -d $(DOMAIN) --format unix)\" &amp;&amp; \\\n        $(MAKE) do-build\n\ndo-build:\n    @echo \"TWILIO_API_SID is set: $$(echo $${TWILIO_API_SID:0:10})...\"\n</code></pre>"},{"location":"step-by-step-tutorial/#11-export-build-then-unexport-to-clear-env","title":"11. Export, build, then unexport to clear env","text":"<p>In a shell (or Makefile target):</p> <pre><code># Load secrets into current shell\neval \"$(enveloper export -d tutorial --format unix)\"\n\n# Run your build\nmake build\n\n# Remove those variables from the shell\neval \"$(enveloper unexport -d tutorial)\"\n</code></pre> <p>After <code>unexport</code>, the variables that were set by <code>export</code> are unset.</p>"},{"location":"step-by-step-tutorial/#12-use-on-windows-powershell","title":"12. Use on Windows PowerShell","text":"<p>Import and list work the same; use <code>--format win</code> for PowerShell-compatible export/unexport.</p> <p>Import and list:</p> <pre><code>enveloper import sample.env --domain tutorial\nenveloper list --domain tutorial\n</code></pre> <p>Export into the current session:</p> <pre><code>enveloper export -d tutorial --format win | Invoke-Expression\n</code></pre> <p>Unexport (remove the variables):</p> <pre><code>enveloper unexport -d tutorial --format win | Invoke-Expression\n</code></pre>"},{"location":"step-by-step-tutorial/#13-set-up-aws-default-profile-and-import-from-sampleenv","title":"13. Set up AWS default profile and import from sample.env","text":"<p>Install the AWS extra and configure credentials:</p> <pre><code>pip install enveloper[aws]\n</code></pre> <p>Ensure you have an AWS profile (e.g. <code>default</code>) or set <code>AWS_ACCESS_KEY_ID</code> / <code>AWS_SECRET_ACCESS_KEY</code>. Optionally set region:</p> <pre><code>export AWS_DEFAULT_REGION=us-west-2\n# or use --region with commands\n</code></pre> <p>Import from <code>sample.env</code> into the local keychain, then push to AWS so we can list from AWS in the next step:</p> <pre><code>enveloper import sample.env --domain tutorial\nenveloper --service aws push --from local --domain tutorial\n</code></pre>"},{"location":"step-by-step-tutorial/#14-list-from-aws","title":"14. List from AWS","text":"<p>To read from AWS SSM, use <code>--service aws</code> and the same project/domain (and optional prefix). First push to AWS (see below), then:</p> <pre><code>enveloper --service aws --domain tutorial list\n</code></pre> <p>You\u2019ll see the same key names with masked values, as stored in SSM.</p> <p>(Screenshot: AWS Console \u2192 Systems Manager \u2192 Parameter Store, showing the parameters under the prefix used by enveloper (e.g. <code>/envr/...</code>) can be added here.)</p>"},{"location":"step-by-step-tutorial/#15-aws-console-where-secrets-live-in-ssm","title":"15. AWS Console: where secrets live in SSM","text":"<p>Secrets are stored under a path that includes the default prefix, domain, project, and version, for example:</p> <p><code>/envr/tutorial/&lt;project&gt;/1.0.0/&lt;KEY_NAME&gt;</code></p> <p>In the AWS Console, open Systems Manager \u2192 Parameter Store and look under the prefix you configured (or the default). Each key from your <code>.env</code> appears as a parameter.</p> <p>(Screenshot placeholder: AWS SSM Parameter Store console showing the enveloper parameters.)</p>"},{"location":"step-by-step-tutorial/#16-same-makefile-import-but-from-aws-ssm","title":"16. Same Makefile import but from AWS SSM","text":"<p>Use the AWS store as the source of truth for the build:</p> <pre><code>DOMAIN := tutorial\n\n# Load from AWS SSM instead of keychain\nbuild:\n    eval \"$$(enveloper -s aws export -d $(DOMAIN) --format unix)\" &amp;&amp; \\\n        $(MAKE) do-build\n    eval \"$$(enveloper -s aws unexport -d $(DOMAIN))\"\n\ndo-build:\n    @echo \"Building with AWS-backed secrets...\"\n</code></pre> <p>Or with explicit service:</p> <pre><code>build:\n    enveloper --service aws --domain $(DOMAIN) export --format unix &gt; .env.aws\n    $(MAKE) do-build\n    rm -f .env.aws\n</code></pre>"},{"location":"step-by-step-tutorial/#17-clear-the-settings-in-aws","title":"17. Clear the settings in AWS","text":"<p>Remove all secrets for that domain/project from AWS SSM:</p> <pre><code>enveloper --service aws --domain tutorial clear --quiet\n</code></pre> <p>Confirm when prompted unless you use <code>--quiet</code>. Then list again to verify:</p> <pre><code>enveloper --service aws --domain tutorial list\n</code></pre>"},{"location":"step-by-step-tutorial/#18-import-into-keychain-then-push-to-aws","title":"18. Import into keychain, then push to AWS","text":"<p>Import from <code>sample.env</code> into the local keychain:</p> <pre><code>enveloper import sample.env --domain tutorial\n</code></pre> <p>Push those secrets to AWS SSM:</p> <pre><code>enveloper --service aws push --from local --domain tutorial\n</code></pre> <p>Secrets are now in both the keychain and AWS.</p>"},{"location":"step-by-step-tutorial/#19-list-both-keychain-and-ssm","title":"19. List both keychain and SSM","text":"<p>Keychain (default service):</p> <pre><code>enveloper list --domain tutorial\n</code></pre> <p>AWS SSM:</p> <pre><code>enveloper --service aws list --domain tutorial\n</code></pre> <p>Both should show the same set of key names (with possibly different masked values if you changed one store).</p>"},{"location":"step-by-step-tutorial/#20-clear-the-local-keychain-only","title":"20. Clear the local keychain only","text":"<p>Remove all secrets for the domain from the keychain, leaving AWS unchanged:</p> <pre><code>enveloper clear --domain tutorial --quiet\n</code></pre> <p>List keychain again: empty. List AWS again: still has the keys.</p>"},{"location":"step-by-step-tutorial/#21-override-service-with-environment-variables","title":"21. Override service with environment variables","text":"<p>You can point enveloper at a service (or domain/project) via environment variables so you don\u2019t need to pass flags every time:</p> <pre><code>export ENVELOPER_SERVICE=aws\nexport ENVELOPER_DOMAIN=tutorial\nexport ENVELOPER_PROJECT=myapp\n\nenveloper list\nenveloper get TWILIO_API_SID\n</code></pre> <p>The CLI uses these when you omit <code>--service</code> and <code>--domain</code>/<code>--project</code>.</p>"},{"location":"step-by-step-tutorial/#22-domains-and-projects","title":"22. Domains and projects","text":"<ul> <li>Domain \u2013 A scope (e.g. <code>prod</code>, <code>staging</code>, <code>tutorial</code>). Use <code>--domain</code> or <code>ENVELOPER_DOMAIN</code>.</li> <li>Project \u2013 A namespace (e.g. <code>myapp</code>, <code>backend</code>). Use <code>--project</code> or <code>ENVELOPER_PROJECT</code>.</li> </ul> <p>Together they form the path/prefix under which keys are stored. Examples:</p> <pre><code># Different domains for different environments\nenveloper import sample.env --domain prod\nenveloper import sample.env --domain staging\n\n# Different projects in the same domain\nenveloper import sample.env --domain prod --project api\nenveloper import sample.env --domain prod --project worker\n\n# List per domain (and optionally project)\nenveloper list --domain prod\nenveloper list --domain prod --project api\n</code></pre>"},{"location":"step-by-step-tutorial/#23-export-to-yaml-and-json","title":"23. Export to YAML and JSON","text":"<p>Export the current set of secrets to structured files:</p> <p>YAML:</p> <pre><code>enveloper export --domain tutorial --format yaml --output secrets.yaml\ncat secrets.yaml\n</code></pre> <p>JSON:</p> <pre><code>enveloper export --domain tutorial --format json --output secrets.json\ncat secrets.json\n</code></pre> <p>You can re-import later with <code>--format yaml</code> or <code>--format json</code>:</p> <pre><code>enveloper import secrets.yaml --format yaml --domain backup\nenveloper import secrets.json --format json --domain backup\n</code></pre>"},{"location":"step-by-step-tutorial/#24-versions-multiple-versions-of-the-same-set","title":"24. Versions: multiple versions of the same set","text":"<p>Enveloper supports versioned secrets (semver, e.g. <code>1.0.0</code>, <code>2.0.0</code>). Import the same file into two versions:</p> <pre><code>enveloper import sample.env --domain tutorial --version 1.0.0\nenveloper import sample.env --domain tutorial --version 2.0.0\n</code></pre> <p>Modify one value only in version <code>2.0.0</code>:</p> <pre><code>enveloper set TWILIO_AUTH_TOKEN \"only in 2.0.0\" --domain tutorial --version 2.0.0\n</code></pre> <p>List values for each version:</p> <pre><code>enveloper list --domain tutorial --version 1.0.0\nenveloper list --domain tutorial --version 2.0.0\n</code></pre> <p>In <code>1.0.0</code>, <code>TWILIO_AUTH_TOKEN</code> is unchanged from the import. In <code>2.0.0</code>, it shows the updated value.</p>"},{"location":"step-by-step-tutorial/#25-dotenv-compatible-sdk-services-domains-projects-versions","title":"25. Dotenv-compatible SDK (services, domains, projects, versions)","text":"<p>Enveloper provides a Python API compatible with <code>python-dotenv</code> (<code>load_dotenv</code> and <code>dotenv_values</code>), with support for service, domain, project, and version:</p> <pre><code>from enveloper import load_dotenv, dotenv_values\n\n# Load from keychain (default)\nload_dotenv(project=\"myapp\", domain=\"tutorial\")\n\n# Load from a specific version\nload_dotenv(project=\"myapp\", domain=\"tutorial\", version=\"2.0.0\")\n\n# Get dict from AWS without touching os.environ\nenv = dotenv_values(service=\"aws\", project=\"myapp\", domain=\"prod\", version=\"1.0.0\")\n</code></pre> <p>See the SDK documentation for full details and examples.</p>"},{"location":"step-by-step-tutorial/#screenshot-placeholders","title":"Screenshot placeholders","text":"<p>(The following placeholders can be replaced with real screenshots when available.)</p> <ul> <li>Mac Keychain: Keychain Access (or equivalent) showing enveloper-stored entries.</li> <li>AWS Console: Systems Manager \u2192 Parameter Store with the enveloper prefix and parameters.</li> <li>Terminal: Sample output of <code>enveloper list</code>, <code>enveloper export</code>, and a Makefile run.</li> <li>Windows: PowerShell session showing <code>enveloper export --format win | Invoke-Expression</code> and <code>unexport</code>.</li> </ul>"},{"location":"technical-details/","title":"Technical Details","text":""},{"location":"technical-details/#architecture-overview","title":"Architecture Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         enveloper CLI/SDK                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502               \u2502               \u2502\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502   Local       \u2502 \u2502  File   \u2502 \u2502  Cloud     \u2502\n            \u2502   Keychain    \u2502 \u2502  Store  \u2502 \u2502  Stores    \u2502\n            \u2502  (OS native)  \u2502 \u2502  (.env) \u2502 \u2502  (plugins) \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502               \u2502               \u2502\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502 macOS         \u2502 \u2502  Plain  \u2502 \u2502  AWS SSM   \u2502\n            \u2502 Linux         \u2502 \u2502  .env   \u2502 \u2502  GitHub    \u2502\n            \u2502 Windows       \u2502 \u2502  files  \u2502 \u2502  Vault     \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  GCP       \u2502\n                                          \u2502  Azure       \u2502\n                                          \u2502  Alibaba     \u2502\n                                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"technical-details/#key-composition","title":"Key Composition","text":"<p>Every secret is stored under a composite key built from five segments:</p> <pre><code>{prefix}{sep}{domain}{sep}{project}{sep}{version}{sep}{name}\n</code></pre> Segment Default Source <code>prefix</code> <code>envr</code> <code>SecretStore.prefix</code> class attr <code>sep</code> <code>/</code> <code>SecretStore.key_separator</code> <code>domain</code> <code>_default_</code> CLI <code>--domain</code> / env var <code>project</code> <code>_default_</code> CLI <code>--project</code> / config <code>version</code> <code>1.0.0</code> CLI <code>--version</code> / env var <code>name</code> (user-supplied) The actual secret name <p>Example: With AWS store (separator <code>/</code>), the key for <code>API_KEY</code> might be: <pre><code>/envr/payments/myapp/1.0.0/API_KEY\n</code></pre></p>"},{"location":"technical-details/#secretstore-interface","title":"SecretStore Interface","text":"<p>All store plugins inherit from <code>SecretStore</code> (defined in <code>src/enveloper/store.py</code>).</p>"},{"location":"technical-details/#required-class-attributes","title":"Required Class Attributes","text":"Attribute Purpose <code>service_name</code> Short CLI name (e.g., <code>\"aws\"</code>, <code>\"file\"</code>) <code>service_display_name</code> Human-readable description <code>service_doc_url</code> Documentation URL (optional)"},{"location":"technical-details/#abstract-methods","title":"Abstract Methods","text":"<pre><code>def get(self, key: str) -&gt; str | None: ...\ndef set(self, key: str, value: str) -&gt; None: ...\ndef delete(self, key: str) -&gt; None: ...\ndef list_keys(self) -&gt; list[str]: ...\n</code></pre>"},{"location":"technical-details/#provided-methods","title":"Provided Methods","text":"Method Description <code>clear()</code> Deletes every key from <code>list_keys()</code> <code>build_key(name, project, domain, version)</code> Builds composite key string <code>parse_key(key)</code> Splits composite key into segments <code>key_to_export_name(key)</code> Extracts name from composite key <code>sanitize_key_segment(value)</code> Replaces separator with <code>_</code>"},{"location":"technical-details/#entry-point-system","title":"Entry Point System","text":"<p>Stores are discovered via Python entry points defined in <code>pyproject.toml</code>:</p> <pre><code>[project.entry-points.\"enveloper.stores\"]\nkeychain = \"enveloper.stores.keychain:KeychainStore\"\naws = \"enveloper.stores.aws_ssm:AWSSSMStore\"\ngithub = \"enveloper.stores.github:GitHubStore\"\nvault = \"enveloper.stores.vault:VaultStore\"\ngcp = \"enveloper.stores.gcp_sm:GCPSMStore\"\nazure = \"enveloper.stores.azure_kv:AzureKVStore\"\naliyun = \"enveloper.stores.aliyun_sm:AliyunSMStore\"\nfile = \"enveloper.stores.file_store:FileStore\"\n</code></pre>"},{"location":"technical-details/#configuration-loading","title":"Configuration Loading","text":"<p>Configuration is loaded in this priority order:</p> <ol> <li>CLI arguments (highest priority)</li> <li>Environment variables</li> <li>Config file (<code>.enveloper.toml</code>)</li> <li>Default values (lowest priority)</li> </ol>"},{"location":"technical-details/#environment-variable-resolution","title":"Environment Variable Resolution","text":"<p>For each setting, the CLI checks:</p> <ol> <li>Command-line flag (e.g., <code>--domain prod</code>)</li> <li>Environment variable (e.g., <code>ENVELOPER_DOMAIN=prod</code>)</li> <li>Config file value (e.g., <code>[enveloper] domain = \"prod\"</code>)</li> <li>Default value (e.g., <code>\"default\"</code>)</li> </ol>"},{"location":"technical-details/#service-backend-selection","title":"Service Backend Selection","text":"<p>The <code>--service</code> flag determines which backend to use:</p> Service Store Class Description <code>local</code> <code>KeychainStore</code> OS keychain <code>file</code> <code>FileStore</code> Plain <code>.env</code> file <code>aws</code> <code>AWSSSMStore</code> AWS SSM Parameter Store <code>github</code> <code>GitHubStore</code> GitHub Actions secrets <code>vault</code> <code>VaultStore</code> HashiCorp Vault KV v2 <code>gcp</code> <code>GCPSMStore</code> Google Cloud Secret Manager <code>azure</code> <code>AzureKVStore</code> Azure Key Vault <code>aliyun</code> <code>AliyunSMStore</code> Alibaba Cloud KMS"},{"location":"technical-details/#versioning","title":"Versioning","text":"<p>Versions follow semver format: <code>MAJOR.MINOR.PATCH</code></p> <p>Cloud stores may use different separators internally: - GitHub uses <code>_</code> instead of <code>.</code> for version compatibility - AWS SSM uses <code>/</code> as path separator</p>"},{"location":"technical-details/#importexport-formats","title":"Import/Export Formats","text":""},{"location":"technical-details/#dotenv","title":"dotenv","text":"<pre><code>KEY=value\nANOTHER_KEY=another_value\n</code></pre>"},{"location":"technical-details/#unix-for-shell","title":"unix (for shell)","text":"<pre><code>export KEY=value\nexport ANOTHER_KEY=another_value\n</code></pre>"},{"location":"technical-details/#win-powershell","title":"win (PowerShell)","text":"<pre><code>$env:KEY = 'value'\n$env:ANOTHER_KEY = 'another_value'\n</code></pre>"},{"location":"technical-details/#json","title":"JSON","text":"<pre><code>{\n  \"KEY\": \"value\",\n  \"ANOTHER_KEY\": \"another_value\"\n}\n</code></pre>"},{"location":"technical-details/#yaml","title":"YAML","text":"<pre><code>KEY: value\nANOTHER_KEY: another_value\n</code></pre>"},{"location":"technical-details/#error-handling","title":"Error Handling","text":"<p>Errors are handled with specific exit codes: - <code>0</code> - Success - <code>1</code> - General error - <code>2</code> - Invalid arguments - <code>3</code> - Configuration error - <code>4</code> - Authentication/permission error</p>"},{"location":"versioning/","title":"Versioning","text":""},{"location":"versioning/#overview","title":"Overview","text":"<p><code>enveloper</code> supports semantic versioning (semver) for secrets, allowing you to maintain multiple versions of your configuration for different environments or deployments.</p>"},{"location":"versioning/#version-format","title":"Version Format","text":"<p>Versions follow semver format: <code>MAJOR.MINOR.PATCH</code></p> <p>Examples: - <code>1.0.0</code> - Initial stable release - <code>2.1.3</code> - Major version 2, minor version 1, patch 3 - <code>0.2.5</code> - Early development version</p>"},{"location":"versioning/#cli-usage","title":"CLI Usage","text":""},{"location":"versioning/#setting-a-secret-with-version","title":"Setting a Secret with Version","text":"<pre><code>enveloper set MY_KEY value -d prod -v 1.0.0\nenveloper set MY_KEY value -d prod -v 2.0.0\n</code></pre>"},{"location":"versioning/#getting-a-secret-with-version","title":"Getting a Secret with Version","text":"<pre><code>enveloper get MY_KEY -d prod -v 1.0.0\nenveloper get MY_KEY -d prod -v 2.0.0\n</code></pre>"},{"location":"versioning/#listing-secrets-with-version","title":"Listing Secrets with Version","text":"<pre><code>enveloper list -d prod -v 1.0.0\nenveloper list -d prod -v 2.0.0\n</code></pre>"},{"location":"versioning/#import-with-version","title":"Import with Version","text":"<pre><code>enveloper import .env -d prod -v 1.0.0\nenveloper import .env -d prod -v 2.0.0\n</code></pre>"},{"location":"versioning/#export-with-version","title":"Export with Version","text":"<pre><code>enveloper export -d prod -v 1.0.0 --format dotenv -o v1.env\nenveloper export -d prod -v 2.0.0 --format dotenv -o v2.env\n</code></pre>"},{"location":"versioning/#version-environment-variable","title":"Version Environment Variable","text":"<p>Set <code>ENVELOPER_VERSION</code> to use a default version:</p> <pre><code>export ENVELOPER_VERSION=1.0.0\nenveloper list -d prod  # Uses version 1.0.0\n</code></pre>"},{"location":"versioning/#sdk-usage","title":"SDK Usage","text":""},{"location":"versioning/#load_dotenv-with-version","title":"load_dotenv with Version","text":"<pre><code>from enveloper import load_dotenv\n\n# Load secrets with a specific version\nload_dotenv(project=\"myapp\", domain=\"prod\", version=\"1.0.0\")\nload_dotenv(project=\"myapp\", domain=\"prod\", version=\"2.0.0\")\n</code></pre>"},{"location":"versioning/#dotenv_values-with-version","title":"dotenv_values with Version","text":"<pre><code>from enveloper import dotenv_values\n\n# Get secrets with a specific version\nenv = dotenv_values(project=\"myapp\", domain=\"prod\", version=\"1.0.0\")\ndb_url = env.get(\"DATABASE_URL\")\n\n# Compare versions\nv1 = dotenv_values(project=\"myapp\", domain=\"prod\", version=\"1.0.0\")\nv2 = dotenv_values(project=\"myapp\", domain=\"prod\", version=\"2.0.0\")\n</code></pre>"},{"location":"versioning/#versioning-use-cases","title":"Versioning Use Cases","text":""},{"location":"versioning/#environment-separation","title":"Environment Separation","text":"<p>Maintain separate versions for different environments:</p> <pre><code>myapp/prod/1.0.0/DB_PASSWORD\nmyapp/staging/1.0.0/DB_PASSWORD\nmyapp/dev/1.0.0/DB_PASSWORD\n</code></pre>"},{"location":"versioning/#rollback-support","title":"Rollback Support","text":"<p>Keep previous versions for quick rollback:</p> <pre><code># Current version\nenveloper set DB_PASSWORD newpass -d prod -v 2.0.0\n\n# Previous version still available\nenveloper get DB_PASSWORD -d prod -v 1.0.0\n</code></pre>"},{"location":"versioning/#feature-flags","title":"Feature Flags","text":"<p>Version feature flags with code:</p> <pre><code>feature/v1.0.0/NEW_UI_ENABLED=true\nfeature/v2.0.0/NEW_UI_ENABLED=false\n</code></pre>"},{"location":"versioning/#database-schema-versions","title":"Database Schema Versions","text":"<p>Match database schema versions:</p> <pre><code>db/v1.0.0/MIGRATION_VERSION=1\ndb/v2.0.0/MIGRATION_VERSION=2\n</code></pre>"},{"location":"versioning/#cloud-store-versioning","title":"Cloud Store Versioning","text":"<p>Different cloud stores handle versioning differently:</p> Service Version Separator Notes AWS SSM <code>/</code> Uses path hierarchy GitHub <code>_</code> Underscore for compatibility Vault <code>/</code> Path-based GCP <code>--</code> Hyphen separator Azure <code>--</code> Hyphen separator Alibaba <code>--</code> Hyphen separator"},{"location":"versioning/#best-practices","title":"Best Practices","text":"<ol> <li>Use consistent versioning - Follow semver strictly</li> <li>Document changes - Update version when secrets change</li> <li>Keep old versions - Don't delete immediately for rollback</li> <li>Test version switching - Verify version changes work</li> <li>Automate version bumps - Use CI/CD for version management</li> </ol>"},{"location":"versioning/#migration-between-versions","title":"Migration Between Versions","text":""},{"location":"versioning/#manual-migration","title":"Manual Migration","text":"<pre><code># Export old version\nenveloper export -d prod -v 1.0.0 --format json -o v1.json\n\n# Import to new version\nenveloper import v1.json -d prod -v 2.0.0\n</code></pre>"},{"location":"versioning/#programmatic-migration","title":"Programmatic Migration","text":"<pre><code>from enveloper import dotenv_values, load_dotenv\n\n# Load from old version\nold_env = dotenv_values(project=\"myapp\", domain=\"prod\", version=\"1.0.0\")\n\n# Process and update\nnew_env = {k: v for k, v in old_env.items() if not k.startswith(\"OLD_\")}\n\n# Save to new version\n# (requires manual set operations)\n</code></pre>"},{"location":"versioning/#troubleshooting","title":"Troubleshooting","text":""},{"location":"versioning/#version-not-found","title":"Version Not Found","text":"<pre><code># Check available versions by listing without version filter\nenveloper list -d prod\n\n# Verify version format (must be semver: MAJOR.MINOR.PATCH)\n</code></pre>"},{"location":"versioning/#version-conflicts","title":"Version Conflicts","text":"<p>If multiple versions exist, specify the version explicitly:</p> <pre><code>enveloper get MY_KEY -d prod -v 1.0.0\n</code></pre>"},{"location":"versioning/#sdk-version-issues","title":"SDK Version Issues","text":"<p>Ensure version is passed correctly:</p> <p>```python</p>"},{"location":"versioning/#correct","title":"Correct","text":"<p>load_dotenv(version=\"1.0.0\")</p>"},{"location":"versioning/#not-this-version-is-not-an-env-var","title":"Not this (version is not an env var)","text":"<p>load_dotenv()  # Uses ENVELOPER_VERSION env var if set</p>"}]}